SOFiMSHA
Import and Export of Finite Elements
SOFiSTiK | 2023SOFiMSHA
ImportandExportofFiniteElements
SOFiMSHAManual,ServicePack2023-3Build88
Copyright©2023 bySOFiSTiKAG,Nuremberg,Germany.
SOFiSTiKAG
HQNuremberg OfficeGarching
Flataustraße14 Parkring2
90411Nürnberg 85748GarchingbeiMünchen
Germany Germany
T+49(0)91139901-0 T+49(0)89315878-0
F+49(0)911397904 F+49(0)89315878-23
info@sofistik.com
www.sofistik.com
Thismanualisprotectedbycopyrightlaws. Nopartofitmaybetranslated,copiedorreproduced,inanyformorby
anymeans,withoutwrittenpermissionfromSOFiSTiKAG.SOFiSTiKreservestherighttomodifyortorelease
neweditionsofthismanual.
Themanualandtheprogramhavebeenthoroughlycheckedforerrors. However,SOFiSTiKdoesnotclaimthat
eitheroneiscompletelyerrorfree. Errorsandomissionsarecorrectedassoonastheyaredetected.
Theuseroftheprogramissolelyresponsiblefortheapplications. Westronglyencouragetheusertotestthe
correctnessofallcalculationsatleastbyrandomsampling.
FrontCover
Volkstheater,Munich Photo:FlorianSchreiberContents|SOFiMSHA
Contents
Contents i
1 Task Description 1-1
2 Theoretical Principles 2-1
2.1 Coordinate Systems . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-1
2.1.1 Sequential Rotations . . . . . . . . . . . . . . . . . . . . . . . . . . 2-1
2.1.2 Incremental Isotropic Rotations . . . . . . . . . . . . . . . . . . . . 2-2
2.2 Overview of the Element Types . . . . . . . . . . . . . . . . . . . . . . . . . . 2-3
2.2.1 Nodes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-3
2.2.2 Truss and Cable Elements . . . . . . . . . . . . . . . . . . . . . . . 2-3
2.2.3 Beam and Pile Elements . . . . . . . . . . . . . . . . . . . . . . . . 2-3
2.2.4 Plane Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-3
2.2.5 Solid Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-5
2.2.6 Spring Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-6
2.3 Mesh Partitioning . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-6
2.3.1 Loads . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-6
2.3.2 Beam Elements. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-6
2.4 Plane Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-7
2.5 Solid Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-9
2.6 Boundary Conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-9
2.6.1 Skewed Supports . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-10
2.6.2 Rigid Body Couplings . . . . . . . . . . . . . . . . . . . . . . . . . . 2-10
2.6.3 Symmetry Conditions . . . . . . . . . . . . . . . . . . . . . . . . . . 2-10
2.6.4 Eccentric Connections . . . . . . . . . . . . . . . . . . . . . . . . . 2-10
2.6.5 Slave Systems . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-10
2.6.6 Mindlin Plate Boundary Conditions . . . . . . . . . . . . . . . . . 2-10
2.7 Joists . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-12
2.8 Literature. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-12
2.9 Limitations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-12
3 Input Description 3-1
3.1 Nodes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-1
3.2 Elements. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-1
3.3 Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-2
3.4 Restart . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-2
3.5 Input Records. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-2
3.6 Hints for Transition from GENF . . . . . . . . . . . . . . . . . . . . . . . . . . 3-5
3.7 SYST – Global System Definition . . . . . . . . . . . . . . . . . . . . . . . . . 3-6
3.8 CTRL – Control of Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-9
3.9 GRP – Group Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-12
SOFiSTiK2023 iSOFiMSHA|Contents
3.9.1 Primary Groups . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-12
3.9.2 Secondary Groups . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-14
3.10 NODE – Nodes, Coordinates and Constraints . . . . . . . . . . . . . . . . . 3-17
3.10.1 Coordinates . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-18
3.10.2 Nodal generations (MESH and IMSH) . . . . . . . . . . . . . . . 3-20
3.10.3 Nodal sequences (FIT) . . . . . . . . . . . . . . . . . . . . . . . . . 3-20
3.10.4 Support Conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-21
3.10.5 Kinematic Constraints . . . . . . . . . . . . . . . . . . . . . . . . . . 3-22
3.10.6 Hanging nodes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-26
3.11 EDGE – Edge Definition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-28
3.12 KINE – Kinematic Dependencies . . . . . . . . . . . . . . . . . . . . . . . . . 3-29
3.13 GETN – Enquire node or element number . . . . . . . . . . . . . . . . . . . 3-31
3.14 TRUS – Truss Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-32
3.15 CABL – Cable Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-34
3.16 BEAM – Beam Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-36
3.16.1 Plane Beam Coordinate System . . . . . . . . . . . . . . . . . . . 3-37
3.16.2 Spatial Beam Coordinate System . . . . . . . . . . . . . . . . . . 3-38
3.16.3 Haunches, sections and continuous beams . . . . . . . . . . . . 3-40
3.17 BSEC – Beam Sections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-42
3.17.1 Special properties of beam sections. . . . . . . . . . . . . . . . . 3-43
3.17.2 Haunches and interpolation of sections. . . . . . . . . . . . . . . 3-43
3.17.3 Element-Formulation . . . . . . . . . . . . . . . . . . . . . . . . . . 3-44
3.18 QUAD – Plane Elements (Disks / Plates / Shells) . . . . . . . . . . . . . . . 3-46
3.19 BRIC – Three-dimensional Solid Elements . . . . . . . . . . . . . . . . . . . 3-51
3.20 SPRI – Spring Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-54
3.20.1 Spring element . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-56
3.20.2 Special hints: . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-59
3.20.3 Damper . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-59
3.21 BOUN – Distributed Support . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-61
3.22 ADDM – General Matrix Element . . . . . . . . . . . . . . . . . . . . . . . . . 3-65
3.23 FLEX – General Elastic Element. . . . . . . . . . . . . . . . . . . . . . . . . . 3-67
3.24 MASS – Concentrated Masses. . . . . . . . . . . . . . . . . . . . . . . . . . . 3-68
3.25 SBOX – Special selections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-70
3.26 DEL – Delete Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-72
3.27 MOD – Modify . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-73
3.28 TRAN – Transformations. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-75
3.29 EXTR – Extrusion and sweeping of elements . . . . . . . . . . . . . . . . . 3-79
3.29.1 SNAP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-81
3.29.2 Spring Properties. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-82
3.29.3 Examples. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-82
3.30 LOFT – Lofting / Interpolation . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-83
3.30.1 Examples. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-84
3.31 MIRR – Mirroring . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-85
3.32 UMSH – Unstructured Mesh Generation. . . . . . . . . . . . . . . . . . . . . 3-87
3.32.1 UBND – Boundary definition for UMSH . . . . . . . . . . . . . . . 3-88
3.32.2 2D Mesh Generation . . . . . . . . . . . . . . . . . . . . . . . . . . 3-88
3.32.3 3D Mesh Generation . . . . . . . . . . . . . . . . . . . . . . . . . . 3-89
3.33 INTF – Generation of interfaces . . . . . . . . . . . . . . . . . . . . . . . . . . 3-91
3.34 RSET – Result Set . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-93
ii SOFiSTiK2023Contents|SOFiMSHA
3.35 EXPO – Ansi Export of Data . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-95
3.36 IMPO – Import of Data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-96
3.37 ECHO – Control of the Output . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-98
4 Output Description 4-1
4.1 Group Attributes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-1
4.2 Nodal Values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-1
4.3 Plane Elements (2-D, QUAD) . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-3
4.4 Three-dimensional Solid Elements (3-D, BRIC) . . . . . . . . . . . . . . . . 4-4
4.5 Boundary Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-4
4.6 Bending Beams and Piles . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-6
4.7 Truss Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-6
4.8 Cable Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-7
4.9 Springs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-7
4.10 System Statistics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-8
4.11 Analysis Time per Task. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-9
Bibliography 4-11
SOFiSTiK2023 iiiSOFiMSHA|Contents
iv SOFiSTiK2023TaskDescription|SOFiMSHA
1 Task Description
Any structure, like a plane structure for example, must in general be interpreted as a geomet-
rical infinitely indeterminate structure. The Finite Element method is now used to convert this
infinite system to a finite one, i.e. to discretizise it.
A discrete solution, consisting of n unknowns, is computed instead of the continuous solution.
For the static analysis these unknowns are for instance the displacements of particular points,
the so-called nodes. These nodes are connected to each other by means of mechanically
simplified members, the so-called elements. One can obtain the displacements of the entire
region through interpolation of the nodal values inside the elements. The continuous plane
structure is thus represented by a large - yet finite - number of elements.
The power of Finite Elements lies in their universal applicability to any geometrical shape and
almost any loading. This is achieved by the following building block principle. Individual ele-
ments, which describe parts of the structure in a computer oriented manner, are assembled
into a complete structure. Regular frame structures must be understood as a special case of
this principle, in which a finite number of nodes leads to an exact solution.
The task of SOFIMSHA is to export or import the total volume of nodes and elements with
high effectiveness. Generating features are on a first glance left to the CADINP possibilities,
however there are very mighty options available for the generation, copying and extrusion.
Complex irregular structures should be defined via SOFIMSHC or SOFiPLUS.
Exactlyonedatabaseisavailableforeachsystem,towhicheachmodulehasunlimitedaccess.
A system is seen as the entirety of the parts forming a structure or a substructure, which co-
operate statically during the systems life-span. During the design a partial system can be
analysed separately.
Witharestartonemaymodifyboundaryconditionsoraddnewnodesandelements. Elements
may be changed, however nodes and especially used nodes are not allowed to have their
coordinates changed.
SOFiSTiK2023 1-1SOFiMSHA|TaskDescription
1-2 SOFiSTiK2023TheoreticalPrinciples|SOFiMSHA
2 Theoretical Principles
2.1 Coordinate Systems
The coordinate systems and the notations conform to DIN 1080.
The nodal coordinates, displacements and rotations as well as loads and reaction forces are
described in a global cartesian right-handed system X-Y-Z. The input can also be given in
polar,cylindricalorsphericalcoordinates,whicharehowevertransformedautomaticallybythe
programtocartesianones. Localcoordinatesystems,whicharedescribedinthenextsection,
exist for the elements as well.
The displacements and rotations are vectors with three components along the coordinate di-
rections. Thesecomponentsarepositivewhentheyactinthepositivecoordinateaxisdirection.
Rotational components are positive if they rotate clockwise about the given axis when looking
into the positive direction of the axis. The same holds for forces and moments. For warping
torsion we have a seventh scalar degree of freedom for the warping.
X
Y
V
Y
φ
Z Y
Figure2.1: Coordinatesystem
Iftheobserverislookingfromthebirdseyeviewhewillbelievetoseearightorlefthanded2D
coordinatesystemdependingontheorientationoftheverticalaxis. Weusethedesignationof
the”first”andthe”second”horizontalaxisinthecounterclockwiseorientation. Itisadvisable
in some countries to define the global coordinate system such that the Z-axis coincides with
the direction of gravity. In case of plane structures only the Y-X plane is considered. For
axisymmetric analysis the X-axis is the axis of rotation.
Ageneral3Drotationofthecoordinatesystem(NODE,TRAN,MATEetc.) isnotasimpletask
and may be performed within SOFiSTiK with different methods:
2.1.1 Sequential Rotations
This is for example a sequence of three independent rotations with the so called Eulerian
angles as they are used in rock mechanics:
• The precision or meridian angle ψ rotates the coordinate system about the vertical z-axis
• The nutation or tilting angle ϑ rotates about the new x’-axis of the coordinate system
• An angle of the pure rotation φ rotates about the now inclined z”-axis
SOFiSTiK2023 2-1SOFiMSHA|TheoreticalPrinciples
x
x' x'=x''
ψ
y
ψ
y'
y'
y''
z=z' z''
Figure2.2: Thesequenceoftherotationsmaynotbeinterchanged!
2.1.2 Incremental Isotropic Rotations
From Argyris came the idea to get rid of the sequential dependence by small simultaneous
incrementalrotations. Thesolutionofthenon-lineartransformationequationmaybedonewith
an eigenvalue analysis explicitly:
(cid:12) (cid:16) (cid:17) (cid:12)
(cid:12) 1− 2 +2 ·CC  z·snψ+  y·CC − y·snψ+ ϕ z·CC(cid:12)
(cid:12) y z (cid:12)
(cid:12) (cid:12)
(cid:12)− ·snψ+  ·CC 1−(cid:128) 2+2(cid:138) ·CC  ·snψ+  ·CC (cid:12) (2.1)
(cid:12) z  y  z  y z (cid:12)
(cid:12) (cid:16) (cid:17) (cid:12)
(cid:12)  ·snψ+  ·CC − ·snψ+  ·CC 1− 2+2 ·CC (cid:12)
(cid:12) y  z  y z  y (cid:12)
ψ2 = ϕ2 + ϕ2 + ϕ2 (2.2)
 y z
ϕ ϕ ϕ
 y z
  = ;  y = ;  z = ; CC = 1−cosψ (2.3)
ψ ψ ψ
Theanglesϕ  definearotationtensor. Withonlyonerotationcomponenttheclassicalrotation
transformation is obtained. The difference to the sequential rotations becomes apparent if we
consider the transformation of the vector (1,0,0) into the space diagonal (a,a,a) where (a =
(cid:112)
1/ 3). Sequential this may be accomplished by a precision of 45 degrees and a nutation of
(cid:112) (cid:112)
arcsin(1/ 3)=arctan(1/ 2)=35.264degrees. Thespaceanglebetweentheoriginalandthe
(cid:112) (cid:112)
image is given by arccos(1/ 3) = arctan( 2) = 54.736 Grad. As this is the total rotation angle
(cid:112)
ψ,the rotation tensor is given by ϕ y = ϕ z = 54.736/ 2 = 38.704 degrees.
Astheseanglesarenotveryeasytouse,thereisalsothepossibilitytoworkwithquasispher-
ical coordinates by modifying the above equations slightly according to the following:
tn2ψ = tn2ϕ  + tn2ϕ y + tn2ϕ z (2.4)
tnϕ tnϕ tnϕ
 y z
  = ;  y = ;  z = (2.5)
tnψ tnψ tnψ
2-2 SOFiSTiK2023TheoreticalPrinciples|SOFiMSHA
Now the space diagonal is reached with the values ϕ y = ϕ z = 45.0 degree, but an angle of
exactly 90 degrees may no longer be treated in all cases, although some cases are allowed.
2.2 Overview of the Element Types
2.2.1 Nodes
Nodes are no elements in the general sense, they may be created automatically for any gen-
eration of elements. There is geometric filtering avoiding to generate double nodes at a given
position. If a special or multiple node numbers should be used at a selected position, it is
therefore necessary to define that node before any generation takes place.
Averyimportantfeatureisalistofnodes,calledaFITwithinSOFIMSHA/SOFIMSHC.These
lists are saved to the database and my be used as a singkle element, partly or in combination
forothergenerations,loadingsorboundaryconditions. AFITwillbecreatedforanygeneration
ofnodesalongalineautomatically,butitmaybecreatedalsofromexistingnodesbyaspecial
selection. If that selection requires a combination of lists, the sequence is calculated on base
of a minimum travelling path measured in number of nodes.
2.2.2 Truss and Cable Elements
The truss or cable element can only carry one constant axial force. In case of a non-linear
analysis, the cable element can not sustain any compression. For the local coordinate axis
only the x-axis of the beam direction is available.
2.2.3 Beam and Pile Elements
These elements are defined by two nodes and their straight connection, which is either the
centrobaricaxisortheoriginofthesectionalcoordinatesystem. Itisalsothex-axisofthelocal
coordinate system. The element in-between can either be prismatic or arbitrarily haunched
with cross section jumps. Several elements may be combined with the same or a continuous
numbertoacontinuousbeamelement. Incaseofplanestructuresthedirectionofthez-axis
is defined such that this is the main laoding direction, i.e. bending occurs only about the y-
axis. Incaseofthree-dimensionalstructureshowever,theorientationofthecoordinatesystem
should be specified explicitly.
The cross section is defined with the program AQUA, in any parallely shifted y’-z’ coordinate
system. Internal forces and moments of the beams are positive, when they act at the positive
section in the positive direction.
2.2.4 Plane Elements
The plane element of SOFiSTiK is a general quadrilateral element with four nodes (QUAD),
which can degenerate to a triangle. The structural behavior is modeled with separate plane
elementsformembraneshearandplatebending. Asthehyperbolicgeometryofaquadrilateral
element is accounted for a coupling of both effects, this element may describe curved shells
with sufficient precision. A triangular element is not suited for that purpose!
The sixth degree of freedom, the rotation within the plane of the membrane part is accounted
for by different methods:
- Small artificial stiffness to avoid numerical problems
- Internal constraint from the differences of the displacements (ASE)
SOFiSTiK2023 2-3SOFiMSHA|TheoreticalPrinciples
S
M
Figure2.3: Localcoordinatesystemofabeam
- Variational approach according Hughes with a rotational field (DYNA)
TheplatebendingproperiesareavaluatedaccordingtotheReissner-Mindlintheory. Duetothe
usage of discrete Kirchhoff conditions and an optional penalty term for the shear deformation,
it is applicable for thin plates or shells The simplest implementation is equivalent to the Bathe-
Dvorkin element. A significantly improved accuracy is achieved through non-conforming or
"‘assumed strains"’ formulations. Especially the constant bending properties of a rectangular
single element do match those of a beam element. Thus the implementation of higher order
isoparametric elements with six to nine nodes is not necessary.
There is always a local coordinate system for internal forces and loads. Note that the indexes
of the designation used for moments and shear forces, rather describe their position and not
their direction. Thus a plate moment m-xx corresponds to a moment vector MY.
y m x y x
yy
m  n y n y
m m n y n 
y y
 y  
Figure2.4: ForcesandMomentsofplates
Forplanarsystems,thedefaultofthelocalcoordinatesystemisequaltotheglobalcoordinate
system. The local coordinates may be defined as follows:
2-4 SOFiSTiK2023TheoreticalPrinciples|SOFiMSHA
The local z-axis is perpendicular to the midplane of the element and it is defined by the vec-
tor product of the node diagonals (3-1) x (2-4). If one numbers the element nodes counter-
clockwise, then one looks into the positive z-direction from ”above”. Positive moments cause
tension on the opposite bottom side of the plate.
The local x- and y-axes both lie within the element’s plane. The sign of the x- and y-axes is
only meaningful for loadings or the results of shear forces.
The local x-axis can be oriented, upon request, inside the surface of an element with a slight
deviationwithrespecttothepositiveornegativedirectionofanyofthethreeglobalcoordinate
axes.
If no such request is made, the local x-axis will lie in the element’s plane parallel to the global
X-Y plane, such that the angle of the projection on the X-Y plane and the global X-axis will not
be larger than 90 degrees.
N3
N2
N4
X
X
Y
N1
Y Z
Z
Figure2.5: Localcoordinatesystemforplaneelements
2.2.5 Solid Elements
The solid element of SOFiSTiK is a general six-sided element with eight nodes (BRIC), which
candegeneratedowntoatetrahedron. Asarule,asignificantlyimprovedaccuracyisachieved
through non-conforming formulations, so that the introduction of the 21-noded elements is not
necessary.
The element does not possess a local coordinate system of its own, and stresses are always
outputfortheirglobalcomponents. ThesurfacescanbedescribedbyspecialQUAD-elements,
SOFiSTiK2023 2-5SOFiMSHA|TheoreticalPrinciples
which can also be employed for the display of stresses in the BRIC-elements.
2.2.6 Spring Elements
Elastic elements with general properties are available in several variants:
- Anisotropicspringelementwithnon-lineareffectsbetweentwonodesorasasupport
condition (SPRI)
- Generalised stiffness with up to six nodes (FLEX)
- Elasticfoundationalongalinewithaboundaryelement(BOUN)Planefoundationfor
quadrilateral elements (QUAD) in the local z-direction and/or tangential
2.3 Mesh Partitioning
The partitioning of a mesh is based on two requirements. On the one hand the mesh should
be as fine as possible, so as to obtain the most accurate results. The factors opposing that
are:
- The computing times increase by n2, when the number of elements n are increased.
- Incaseofveryfinepartitioning,round-offerrorsareamplifiedsothatthesolutionmay
becomeunusable. Asaruleofthumb,alogicalpartitioningofafreespanconsistsof
5 up to 20 elements.
- In construction practice it is not sensible to attempt to model and design all types of
singularities. One should strive for a partitioning that is not too fine.
2.3.1 Loads
The Finite-Element system is a discrete system and it can thus only handle discrete loads.
Every loading must therefore be converted to so-called nodal loads. A nodal load should not
be confused with a point load. The difference is illustrated in the following figure
A mesh refinement leads to new nodal loads in case of a uniform load (a and d), but not in
case of point loads.
On one hand, this means that a given mesh has a limited resolution for loadings. The coarser
mesh (a, b, c) can not make the differentiation between two point loads and a uniform load
upon the element grid or a point load at the middle of the element.
It also means on the other hand, that a loading can be applied as a point load on a node only
when its load induction area is smaller than the size of the adjacent elements. When inducing
, for example, a point load upon a plate, each new mesh refinement in the area of the load will
computelargershearforceseachtime,duetothebettermodellingofthesingularity. Therefore,
one should either select an element size that will not be smaller than the plate thickness, or
define the loads in the form of distributed loading with their actual contact surfaces.
2.3.2 Beam Elements
Toalargeextentanexactdescriptionofthegeometryispossibleinthecaseofbeamelements.
A single beam element may be used from one support to the next. However, a typical FE
2-6 SOFiSTiK2023TheoreticalPrinciples|SOFiMSHA
Figure2.6: Nodalloads
partitioning of the geometry is necessary in the following cases:
- Kinematic constraint with elastic foundation (Boundary element)
- Dynamic analyses (nodal masses)
- Buckled centrobaric axis (e.g. haunches)
- Large deformations according to 3rd order theory
Thepartitioningmayonlybecomesofine,thatthelengthsoftheindividualbeamsareapprox-
imately the same as their cross section dimensions. When their lengths become smaller than
these dimensions, it is required that the correct shear deformation areas of the cross sections
aredefined. Artificiallylargestiffnessesmustalsobeavoided,aswellasthedirectcombination
of elements with very different lengths.
The results of the element can be obtained at all of its sections. Superpositioning and dimen-
sioning can only take place at these sections.
2.4 Plane Elements
For the geometry, squares and equilateral triangles are the optimal shape. Certain devia-
tions from this shape are allowed, as long as no re-entrant corners appear. Two triangles are
not equivalent to a quadrilateral, since the quadrilateral possesses at least six internal stress
states whereas the triangle only one. Quadrilateral meshes are therefore always preferable to
mixed or pure triangular meshes. Any triangular element partition can be converted to a pure
quadrilateral mesh:
This method can for example also be used to easily partition a circular plate with quadrilateral
SOFiSTiK2023 2-7SOFiMSHA|TheoreticalPrinciples
Figure2.7: Conversionoftriangularmeshtoquadrilateralmesh
Figure2.8: Partitioningofaquarter-plate
elements:
The results for this element are obtained at the following points:
- At the centre of the element
- At the so-called Gauss-points inside the element
- As extrapolated average values at the nodes
Thevaluesattheelement’scentrepointmustbeusedforthedimensioningoftheelement. The
socomputedvalueoftherequiredreinforcementmustthenbeappliedtotheentireareaofthe
element. Through proper selection of the element size and location, one can carry out direct
calculations conforming to the various design rules. In case of wide supports or restraints it is
for example sensible to place the centre of the element on the edge of the support.
The Gauss-points are only necessary for the accurate capture of the element’s stress state
and are usually not needed by the user.
The values at the element nodes can be extrapolated from the Gauss-points. Due to the ap-
proximate formulation of the FEM-solution these values are not identical at a node, therefore
the average value is computed. These values are of prime importance for the graphical rep-
resentations. However in case of coarse element partitioning, the nodes at fixed edges or
point supports should also be considered during the design, because otherwise the maximum
values are not captured.
Special care should be taken for three-dimensional structures or load application regions in
2-8 SOFiSTiK2023TheoreticalPrinciples|SOFiMSHA
order to avoid the averaging of all the internal forces and moments at the nodes. In case of
sudden changes in the element thickness the dimensioning should be made separately on
each side.
The nodal values can also be used in calculating an error-indicator for the assessment of
the accuracy of the solution, this is done for each element by an integration of the deviations
between extrapolated and average values.
2.5 Solid Elements
Whatever was said for the QUAD-elements essentially holds for the solid elements as well.
2.6 Boundary Conditions
For the simplest case the boundary conditions at the nodes are specified by suppressing the
corresponding degrees of freedom. An elastic support is obtained by means of appropriate
elements.
There is however a frequent need for special support conditions, which the engineer would
like to model using infinitely large stiffnesses. Due to numerical reasons the modelling should
not be done with elements possessing very large stiffnesses, but with dependent degrees of
freedom (kinematic constraints) instead. The need for such constraints arises e.g. for oblique
supports or rigidly connected nodes. In general, every dependent degree of freedom can be
expressed as a linear combination of other displacements or rotations:
d  =  1d 1 +  2d 2 + ... (2.6)
These conditions are explicitly considered in the assembly of the global stiffness matrix and
they are therefore numerically stable instead of any artificially rigid elements.
These combinations can be directly formulated with the record KINE and they can be arbi-
trarily convoluted. However, the memory requirements for solving a problem increase with the
number of constraints and especially with the number of recursive associations.
Coupling conditions have a distinct direction, they can be defined recursively up to 99 levels.
Cyclicreferencesoroverlappingreferencedefinitionsarenotpossiblehowever. Whendefining
the boundary conditions multiple definitions will be combined in general based on a vector
approach.
StandardconditionsareavailableforthemostfrequentcasesofconstraintsintherecordNODE
and the node coupling conditions.
Inthenodeoutputdependentdegreesoffreedomaredesignatedbya*oranegativeequation
number. All displacements are always output, and they comply to the specified dependencies.
WithECHOREAC(programASE,SEPP,TALPA...) thesupportreactionscaneitherbecalcu-
lated separately for each node or in pairs for coupled nodes; in the latter case they represent
the forces transmitted through the kinematic constraint.
Attention: Inappropriate use of kinematic constraints of the KINE type or the slave kinematic
constraints (KPX through KPZ) may lead to mechanically absurd results (forces moved by
SOFiSTiK2023 2-9SOFiMSHA|TheoreticalPrinciples
kinematic constraints may violate the moment equilibrium).
2.6.1 Skewed Supports
A skewed support for a node can be always described by a single direction. The node is then
either only supported in that direction (PR or MR) or it is supported in all directions transvers
to that direction (PT or MT) . The latter case then allows a displacement only in that selected
direction.
2.6.2 Rigid Body Couplings
All couplings between distant nodes will generate rigid body contributions which are needed
to fulfill the equilibrium of moments. The kinematic constraints KP, KL, KQ and KF describe
rigid bodies to which the dependent nodes are connected through a hinge (KP), or through a
connection with fixed rotation about one (KQ=KP+KMR), two (KL=KP+KMT) or all three (KF)
directions. Onesingleplanemaybeactivatedinspecialcases(KPEX,KPEY,KPEZandKFEX,
KFEY, KFEZ). This is for instance the case when defining a slab, which allows lateral bending
but not in-plane distortion.
2.6.3 Symmetry Conditions
Symmetry conditions are a rarely needed special case of kinematic constraints. Whereby the
respectivesymmetryoranti-symmetryconditionsareassignedtothemid-perpendicularofthe
lineconnectingtwonodes. Inmostcasesthedefinitionofasymmetryconditionismoresensi-
ble by means of an inclined support. The direction of the support must then be perpendicular
to the symmetry plane. PRMT defines a symmetry and PTMR an anti-symmetry.
2.6.4 Eccentric Connections
Eccentric connections, e.g. between a beam and a plate, can be specified with KF. Beam
elementsmayhaveexplicitexcentricitiesorimplicitbythedefinitionofthesectionalcoordinate
system. Forshellelementsthemidsurfaceortheupperorlowersidemaybepositionedinthe
plane of the nodes.
2.6.5 Slave Systems
Aspecialclassofkinematicconstraintsimposesthesamedisplacementsorrotationstoseveral
nodes(KPXtoKMT).Theirapplicationisusefule.g. inthedescriptionofrigidfoundationplates,
which are not allowed to rotate. These kinematic constraints act upon particular degrees of
freedom and are thus more flexible. The danger on the other hand is that their inappropriate
use can produce undesired offset moments.
2.6.6 Mindlin Plate Boundary Conditions
The formulation of the boundary conditions of plate elements is not uncritical. Especially the
Mindlin-element has some peculiarities which should be considered.
According to Kirchhoff’s theory two internal forces exist at an edge, namely the bending mo-
ment and the equivalent shear force. The latter consists of the shear force and the torsional
moment, and that is why both can have values along a free edge different from zero. By
contrast, Mindlin’s theory recognises three support conditions for the three internal forces i.e.
bendingmoment,torsionalmomentandshearforce. Asupportforthetorsionalmomentwould
2-10 SOFiSTiK2023TheoreticalPrinciples|SOFiMSHA
for example suppress the rotations perpendicular to the edge.
Free edges
Free edges do not have constraints of any type. The reaction forces along such edges are,
withintheboundsofcomputingaccuracy,zero. Howevertheinternalforcesinsidetheelements
are not always exactly zero, due to the numerical method.
Fixed edges
Perfectly fixed edges can be input without any problems. For the interpretation of the results
however, it is important to know that the torsional reaction moments must be taken up. This
takes place automatically in the output of the BOUN-elements, whereby these are converted
to corresponding support loadings.
Simply supported edges
Here one has a choice between the so-called soft support (only PZ) and the hard support
(PZ+MT). In case of the soft support, shear deformations are still allowed along the edge, and
thusashearforcetoo; insomecasesthiscanleadtoconsiderabledeviationsfromKirchhoff’s
platetheory. Ontheotherhandisthesoftsupportmoresuitableforthemanipulationofuplifting
corners as well as of re-entrant corners. Particularly in the case of obtuse corners, the hard
support leads to an undesired fixation.
Simulation of supports on masonry and concrete
There are generally four ways to describe such supports:
• Point- or line-support
This type of support is mainly used for thin supports (width < plate thickness). The size of
theadjacentelementsshouldbeselectedinsuchawaythattheirgravitycentreliesonthe
round section which is critical for the punch-through check. The dimensioning of the shear
force takes place inside the element; for the moment, on the safe side, in the nodes of the
support.
• Pivoting column head support
The column is described by a node having a fixed support and a possible rotational spring
stiffness, this node is usually is not an element node. The column area is described by
means of a single element as well as coupling conditions between the four element nodes
and the column node, which specifies that the cross section will remain plane without a
restraint of the moment (KP for columns, KQ for walls). The size of the element can be
between 2/3 of the column area (e.g. for circular columns) and the actual column area
(e.g. for rectangular column cross section). The size also depends on where one wants to
arrange the resultant of the bearing stress.
The central element has a zero shear force and thus a uniform moment corresponding to
the moment of the section along the face of the column. One should arrange additional
elements for the shear force check, whereby their gravity centre lies on the round section
used for that check , or directly carry out a punch-through check.
• Elastic foundation
This option is ideal for elastic supports of large areas, for which a rounded moment above
the support is desired. Large Winkler coefficients however, result in undesired restraints.
SOFiSTiK2023 2-11SOFiMSHA|TheoreticalPrinciples
TheselectionoftheWinklercoefficientisthuscritical,andthisoptionshouldonlybeapplied
to minor foundations.
• Special conditions
In principle any arbitrary conditions can be formulated through kinematic constraints. The
effect though must be checked in every case.
2.7 Joists
The modelling of joists in plate structures presents a special problem. Besides the option
of modelling them with folded structure elements or solid elements, which are ruled out for
practical processing, one has a choice between two other options:
• The joist is modelled as an eccentric beam connected to a plane shell (plate- and disk
action). The area of the joist and its moment of inertia are determined from the protruding
part of the joist.
For the dimensioning the results of the shell and the beam should be combined into the
total internal forces and moments for a T-beam.
This is a general method and always correct. It captures the effective widths and their
distribution in the system.
• The joist is modelled as an additional element to a plate, by defining all its cross sectional
values (area, moment of inertia) as follows:
Additional values = Total values of T-beam effective
- contributions of the plate to the effective width
Thetotalstiffnessiscorrectlymodelledinthismanner. Whendimensioningjoistswithsmall
heights one should always make constructive decisions, e.g. assembling the individual
values and applying them to a T-beam cross section.
2.8 Literature
Zienkiewicz [1], Ramm, Müller, and Wassermann [2], Katz and Stieda [3], Gupta [4],
Zienkiewicz and Zhu [5], Katz [6], and Hartmann and Katz [7]
2.9 Limitations
Thefollowinglimitscannotorshouldnotbeexceededinprincipletopreventlimitationsforthe
print out (number of columns) or the adressing of input data:
Largest node number : 9 999 999 (recommended)
Largest element number: 9 999 999 (recommended)
Numbers of primary groups: 0 - 999
Number of elements per group 999 999
The node and element numbers are possible up to 999 999 999, but for the printout there are
in most cases only seven columns available.
Eachcomputerhasafinitecomputingprecision. Thisisnormally7digitsincaseof32bitsper
2-12 SOFiSTiK2023TheoreticalPrinciples|SOFiMSHA
word, and 15 digits in case of double precision. It is naturally meaningless to want to discuss
about the 7. decimal digit of a final result. The danger however is that for FE-analyses, as in
most cases in real life, it is not the absolute size of a displacement that is of interest, but the
differences.
Because of that, all numerical calculations are sensitive to large variations in stiffnesses or
small variations of element dimensions, and sometimes with a large number of elements be-
tween two boundary conditions (supports).
SOFiSTiK2023 2-13SOFiMSHA|TheoreticalPrinciples
2-14 SOFiSTiK2023InputDescription|SOFiMSHA
3 Input Description
TheprogramSOFiMSHAgeneratesthebasicstructuralsystemforplaneorthree-dimensional
structures. On one hand the system consists of the nodes, defined by a number, their coordi-
nates and geometric support conditions. On the other hand there are the elements, which are
connected to each other at these nodes.
For a restart of the system element properties or boundary conditions may be changed, ele-
mentsmaybedeletedoradded. Onlythecoordinatesofanyexistingnodemaynotbechanged
any more. The orientation of the gravity, the group divisor or any defined base number of a
group may not be changed either. Thus all elements added to existing groups must fit in the
assigned space of numbers.
SOFiMSHA has a more element based input mode than its predecessor GENF. Nodes will be
generatedmostlyautomatically. Nearlyallelementshaveameshgenerationoption. Thebasic
concept is either a regular subdivision or a non-regular nodal sequence called a FIT. For more
details see NODE.
Cross sections and materials have to be defined beforehand with the program AQUA.
3.1 Nodes
Nodes are assigned with a number for identification. For generation facilities new nodes will
be automatically introduced or existing nodes identified with an effective octree search. Node
numbers need not be in a consecutive order. The maximum value of these numbers is limited
to 999999, due to the output format. The node numbering has normally no influence on the
band width of the system of equations, because subsequent to the system’s generation an
optimisation of the profile takes place. Undefined nodes do not have any influence.
Withnearlyallelementdefinitionsitispossibletoinsertintermediatenodesautomatically. This
has either to be defined with the number of subdivision segments and an optional mid node,
or a already defined sequence of nodes (FIT) may be used. In both cases new nodes will be
compared against already existing ones and created only if necessary.
3.2 Elements
Elements are also identified by an arbitrary number within the selected element group. If the
number is not specified, the element number is automatically assigned. Although an element
number may only be used once for each element type. Elements can only be defined once.
The element number contains the group number. The latter is for example the integer part
of the element number divided by a freely defined divisor. The default value of this divisor
GDIV of the record SYST is 0, i.e. all elements are assigned to group 0. If the elements are
subdivided into groups with a different value for GDIV, any elements of the group 0 that follow
a group initiation with the record GRP are assigned to that group by their element number, i.e.
the program changes the element numbers so that they fit into the active group.
Groupscanbeusedtoselectaparticularstructuralsystemortodefinepartialregionsforpost-
processing or graphical representation. A sensible partitioning of a structure into such groups
can be very helpful when evaluating the internal forces and moments at nodes. In case of
SOFiSTiK2023 3-1SOFiMSHA|InputDescription
folded structures, one should arrange the elements of each disk into separate groups.
It is advantageous to number the elements in such a way, so that one can make use of the
generationoptionsduringthesystemselection(groups)andtheloadinginput(refertoSTAR2,
beam groups).
The theoretical principals of the elements are described in the calculation programs.
3.3 Results
The created structure is stored in the database (project file) and it can be represented graph-
ically by the program WinGRAF; this can even be done for faulty systems, as long as the pro-
gram has not terminated prematurely. Further processing of the analysis with other programs
is only possible when the structure is free of errors.
When no errors are detected, a profile optimisation is performed on the stiffness matrix, in
order to minimise the cost of solving the system of equations for the structure.
3.4 Restart
At any time boundary conditions can be modified or new elements may be added with a
Restart. However,existingelementsandnodalcoordinatesremainunchanged. Arestarttakes
place with the explicit input SYST REST. The following can be included in a Restart input:
- Change support conditions and constraints for existing nodes
- Add New nodes and new elements
- Change element properties
- Delete Elements
3.5 Input Records
The input is made in the CADINP language (see general manual SOFiSTiK: ’Basics’). Three
categories of units are distinguished:
mm Fixed unit. Input is always required in the specified unit.
[mm] Explicit unit. Input defaults to the specified unit. Alternatively, an explicit as-
signment of a related unit is possible (eg. 2.5[m] ).
[mm] Implicit unit. Implicit units are categorised semantically and denoted by a cor-
1011
responding identity number (shown in green). Valid categories referring to the
unit ”length” are, for example, geodetic elevation, section length and thickness.
Thedefaultunitforeachcategoryisdefinedbythecurrentlyactive(designcode
specific) unit set. This input default can be overridden as described above. The
specified unit in square brackets corresponds to the default for unit set 5 (Eu-
rocodes, NORM UNIT 5).
Record Items
SYST TYPE GDIV GDIR FIX XREF YREF ZREF
Tablecontinuedonnextpage.
3-2 SOFiSTiK2023InputDescription|SOFiMSHA
Record Items
T11 T21 T31 T12 T22 T32 T13
T23 T33
CTRL OPT VAL V2 V3
GRP NO REF BASE TITL
NODE NO X Y Z FIX NR1 NR2
NR3 NR4 DX DY DZ PHIX
PHIY PHIZ PHIG DIV PROG SLN SAR
EDGE NO TYPE N1 N2 N3 ... N35
N36
KINE ND FIX ND1 FD1 ND2 FD2 ND3
FD3 ND4 FD4 ND5 FD5 ND6 FD6
.... ND9 FD9
GETN X Y Z VAR IND
TRUS NO NA NE NCS PRE DIV NM
CABL NO NA NE NCS PRE DIV NM
BEAM NO NA NE NCS DIV NM AHIN
EHIN NP BETY BETZ ALFY ALFZ KR
DRX DRY DRZ DROT XA YA ZA
XE YE ZE
BSEC X NCS SPEC TYPM TYPT NO
QUAD NO N1 N2 N3 N4 MNO MRF
NRA POSI T T1 T2 T3 T4
C CT KR DRX DRY DRZ DROT
TX TY TXY TD M N M12
M23 M34 M41
BRIC NO N1 N2 N3 N4 N5 N6
N7 N8 MNO M N K M12
M23 M34 M41 M56 M67 M78 M85
M15 M26 M37 M48
SPRI NO NA NE DX DY DZ CP
CT CM PRE GAP CRAC YIEL MUE
COH DIL GAPT DP DT DM EXPP
EXPT EXPM MNO AR DIV NM NARE
NERE NMRE KR DRX DRY DRZ DROT
BOUN NA NE NM TYPE CA CE REF
RX RY RZ DIV PROG TITL
Tablecontinuedonnextpage.
SOFiSTiK2023 3-3SOFiMSHA|InputDescription
Record Items
ADDM NO TYPE PER NO1 NO2 P
UX UY UZ UXX UYY UZZ UW
MASS NO MX MY MZ MXX MYY MZZ
MXY MXZ MYZ MB REF LC PRZ
SELE
SBOX A1X A1Y A1Z B1X B1Y B1Z A2X
A2Y A2Z B2X B2Y B2Z A3X A3Y
A3Z B3X B3Y B3Z R T
DEL TYPE FROM TO INC XMIN YMIN ZMIN
XMAX YMAX ZMAX
MOD TYPE FROM TO INC DNO XMIN YMIN
ZMIN XMAX YMAX ZMAX FIX
TRAN TYPE FROM TO INC DNO WIDE XMIN
YMIN ZMIN XMAX YMAX ZMAX PROP FIX
DX DY DZ PHIX PHIY PHIZ ALPH
BETA THET REFX REFY REFZ FAKX FAKY
FAKZ
EXTR TYPE FROM TO INC PATH V1 V2
V3 DIV SREF OPT SNAP
LOFT TYPE IDSC IDTG REFS REFT DIV OPT
MIRR TYPE FROM TO INC DNO WIDE XMIN
YMIN ZMIN XMAX YMAX ZMAX PROP FIX
A B C DIST MP1 MP2 MP3
FAC
UMSH TYPE HMAX PROG SAR
UBND TYP SEL X Y Z N1 ...
N32
INTF OPT TYPE REFT NO D MNO CP
CT
RSET NO SET ITEM UNIT NO NG X
NGS TITL
EXPO OPT TO PASS
IMPO OPT FROM PASS
ECHO OPT VAL
3-4 SOFiSTiK2023InputDescription|SOFiMSHA
3.6 Hints for Transition from GENF
AsSOFIMSHAfollowsacompletelynewandmuchmorepowerfulconceptforthegenerationof
data, we have the situation that simple input data may be converted easily, but that depending
on the complexity of the definition a rather expensive redefinition might be necessary which is
beyond the scope of any automatic conversion. In many cases the input with an old GENF-
version and the following export with AQUA/SOFIMSHA might be the most economically way
to do the transition.
Here following steps should be de noted or done:
• Add the now mandatory group divisor in record SYST
• Move all material and sectional definitions to AQUA
• Insert the item FIX for nodes of a planar system (there was no Z in GENF).
• Change of a few item names (e.g. KR instead of NR for BEAM)
• Sections for haunched beams have now to be defined as a single string in the form 10.11.
There are some minor restrictions of this format for generations.
• Hinges of beams are defined with the beam itself. Beam sections are only defined with
SECT.
For other cases the following hints might be helpful:
• Polar or spherical coordinates are defined with new special items. There is no longer the
negative node number available for this effect.
• Generation of bodes along a line is dound with NODE instead of BOUN or MESH. MESH
andCUBEhavebeenintegratedasQUADMESH/IMSHandBRICMESH/IMSH.IMEShas
to be described with a QUAD FIT/IFIT now.
• ALINandSECThavebeenintegratedintherecordNODE.ALIN1011001020.5becomes
now NODE 101 0.5 NR1 100 102 "SS", and SECT 100 101 102 103 104 becomes NODE
100 NR1 101 102 103 104.
• All implicit element generators (ENO/DNO/KNO) have to be replaced either with CADINP
loops or by MESH or FIT Options.
SOFiSTiK2023 3-5SOFiMSHA|InputDescription
3.7 SYST – Global System Definition
SYST
Item Description Unit Default
TYPE The type of the system may be defined: LT !
3D spatial structures
2D Plane frame or pannel
2DSS Plane stress
2DSN Plane strain
2DAX Axial symmetric system
2DSL Plane girder or plate bending
2DPS Prestressed plate system
SECT sectional system
REST Keep current system type
INIT Delete the system, however, keep the sys-
tem info
This literal in combination with the GDIR defines the
orientation of the coordinates. The former Literals
(SPAC etc.) are still valid and are described in the
remarks.
GDIV Group divisor − 0
GDIR Direction of gravity LT *
POSX,POSY,POSZ
NEGX,NEGY,NEGZ
FIX Global default constraints LT -
SYST defines the global parameters of the system. The record may be specified only once
and has to precede any node, element or group definition. A definition of TYPE other than
REST will delete the system information. With SYST REST it is possible to modify or extend
an existing system. In general all results will be deleted in that case! Some exceptions are
possible and may be controlled with CTRL REST.
Thecoordinatesystemisalwaysaright-handedcoordinatesystem. Theoriginshouldbewithin
the system for numerical reasons.
There exist different conventions about the orientation of the coordinate axes. While the Ger-
man Code (DIN 1080) proposes the z axis to be associated with the gravity direction, the
international usage of coordinate systems often has a classical coordinate system with the z
axis upwards. In 3D you may select your convention freely by selecting the gravity direction.
3-6 SOFiSTiK2023InputDescription|SOFiMSHA
Theglobalgravitydirectionisneededfortheorientationofthelocalcoordinatesystems,special
loadtypesandboundaryconditionsaswellasforthedefaultorientationofallgraphicaloutput.
By a cyclic permutation we obtain in the 3D space the first and the second horizontal axis:
GDIR POSZ / NEGZ: X = first horizontal axis
Y = second horizontal axis
GDIR POSX / NEGX: Y = first horizontal axis
Z = second horizontal axis
GDIR POSY / NEGY: Z = first horizontal axis
X = second horizontal axis
For axis symmetric systems only the gravity direction POSX/NEGX may be used which is also
the rotational axis.
The recent system definitions are still supported, this is SPAC for 3D and some 2D variants
distinguished by the view direction:
• SOFiSTiK Coordinate System (z axis points in view direction):
FRAM, PAIN, PESS, AXIA, GIRD and PGIR
• World Coordinate System (z axis is opposed to view direction):
WPAI, WPES, WAXI, SLAB and PSLA
SOFiSTiK2023 3-7SOFiMSHA|InputDescription
This differentiation becomes obsolete with the new input options; choice of general system
type and gravity direction uniquely define the orientation of the coordinate axes:
SCS= WCS=
zaxisinviewdir. zaxisopposedtoviewdir.
YX-plane(DIN1080): Internat.-XY-plane
2D Planeframe GDIRNEGX/POSY (FRAM) GDIRPOSX/NEGY (WFRA)
2DSN Planestrain (PAIN) (WPAI)
2DSS Planestress (PESS) (WPES)
2DAX Axialsymm. system GDIRNEGX (AXIA) GDIRPOSX (WAXI)
(Xisrotationaxis)
2DSL Girder/slabsystem GDIRPOSZ (GIRD) GDIRNEGZ (SLAB)
2DPS Prestr. platesystem (PGIR) (PSLA)
Inthecaseofplanarstructuresonlyabouthalfoftheglobalunknownsareusedsuchsuppress-
ingout-of-planeorin-plane-deformationsandstress-resultants. Beamswithprincipalaxesnot
coinciding with the global reference system can be analyzed in three dimensions only.
For the description of sections as FE-systems there are three additional types of systems
SECT for sections, which are not supported by SOFiPLUS so far:
• POSS Y-Z-coordinate system of positive face
(X-Axis against the view direction)
• NEGS Y-Z-coordinate system of negative face
(X-Axis anlog the view direction)
• SECT any planar coordinate system
The group divisor is needed to separate the elements in groups. For further details see record
GRP.
3-8 SOFiSTiK2023InputDescription|SOFiMSHA
3.8 CTRL – Control of Analysis
CTRL
Item Description Unit Default
OPT A literal from the following list: LT *
NODE Automatic node numbers
CONT Continuous beam information
EXTR References for extrusion
FIT Shortest Path factor
GTOL Tolerance for coinciding nodes
SNAP Tolerance for snapping nodes
LOCA Local coordinate systems
LOOP Generation process
SUB No of subdomains
PART Mesh-Partitioning features
OPTI Renumbering optimisation
REST Deletion of elemental loads and results
VAL Value of control − -
V2 additional second control value − -
V3 additional third control value − -
The default or a user defined value of a CTRL parameter is maintained until it gets redefined.
In case CTRL LOOP is used, the CTRL inputs are processed in loop mode.
NODE For all generations, automatic node numbers will start above this number. (Default
1000)
LOCA Definition of local coordinate systems of beams (Default=0)
0 local z in gravity direction or local y in first horizontal axis if not possible
explicit orientation is specified for y-axis of beam
1 local z in gravity direction or local z in first horizontal axis if not possible
explicit orientation is specified for z-axis of beam
2 local z in global Z or in global X if not possible or if beam axis in global
Z
explicit orientation is specified for z-axis of beam (IFC)
3 local z in global Z or in global Y if not possible or if beam axis in global
Z
explicit orientation is specified for y-axis of beam (GENF)
SOFiSTiK2023 3-9SOFiMSHA|InputDescription
CONT An new span within a continuous beam sequence is started if one of the options
selected with that option is encountered (default 15):
0 Specification of NREF in record GRP (always active)
1 The node numbers do not match
2 The nodal coordinates do not match
4 A support in gravity direction
8 Change of group number
16 Any support
64 allow duplicate beam numbers for continous beams (experimental)
128 Change of section number
256 Change of beam number
512 explicit new sequence starting with next beam
The value V2 defines the maximum allowed bend within a continuous beam in de-
grees. (Default is 45)
EXTR For an extrusion with TRAN / MIRR the new elements will receive a reference num-
ber from the original element according to the following rules:
0 The definition from the GRUP-Record is taken
1 The element number within the group
2 The element number (only possible if element number is < 262144).
FIT FactorbywhichtheshortestpathforaFITmaybelongerthanthedirectconnection.
(Default 1.571)
0 deactivation (for a shorter CPU time)
OCTR Additional data in octree (nodes are always contained)
2 QUAD-elements
3 BRIC-elements
The OCTREE allows a fast finding of data especially for three dimensional struc-
tures. Currently the storage of elements is only useful for the generation of hanging
nodes. It has to be noted that all elements defined when the command is given are
copiedtotheoctreeandallelementsdefinedthereafterwillnotbeselectableinthat
case.
GTOL Tolerance for collapsing nearby nodes in [m].
SNAP Relative Tolerance [-] for snapping nodes within QUAD-Elements. See SPRI.
LOOP GenerationprocessasitwasinGENF(onlyforversionsupto2012). IfCTRLLOOP
is input, the generation is done in two loops:
1st loop: only node generation (node definition with the records NODE and
BOUN)
2nd loop: generation of the elements
SUB With the setting of the SUB-value the domain decomposition on the defined mesh
will be started. This might be used independent from the mesh definition, i.e. you
can decompose an existing mesh.
PART Bit-patterntocontrolsubdomainpartitioningforananalysiswithaparallelmachine
3-10 SOFiSTiK2023InputDescription|SOFiMSHA
0 = use PMETIS or KMETIS (SUB>8)
1 = use KMETIS for mesh partitioning
2 = use PMETIS for mesh partitioning
+16 = use Random Matching (RM)
+32 = use Heavy-Edge Matching (HEM)
+48 = use Sorted HEM (Default)
256 = use reordered nodal-Bisection
257 = use group definitions
OPTI Bit-pattern to control internal equation number reordering
0 = no reordering at all
1 = fast global reordering (default)
2 = best global reordering
3 = best local and global reordering
+8 optimize also for skyline
+16 use Metis-random Matching (RM)
+32 use Heavy-Edge Matching (HEM)
+48 use Sorted HEM (default)
For every solver an optimum sequence of equation numbers may be defined in the
data base. The type of optimization should be adopted to the solver to be used.
Improper settings may have adverse effects!
CTRL SOLV 1 option 10
CTRL SOLV 2 option 9 or 10
CTRL SOLV 3 any option, default is 49
STEU SOLV 4 no sequence required, so option 0 may be used
DOLFYN no sequence required, so option 0 may be used
Option 2 (or 10 or 50 etc.) should not be used for systems disintegrating in several
non connected parts!
REST Deletion of elemental loads and results
0 = deletes always
1 = deletes if new elements are generated
2 = deletes only if elements are deleted
Hint: As HYDRA and DOLFYN save their results in compact form in the sequence
of the internal node numbers, results of these programs may not be used further
after a restart in general.
SOFiSTiK2023 3-11SOFiMSHA|InputDescription
3.9 GRP – Group Control
Seealso: SYST,BEAM,QUAD,BRIC,SPRI,TRUS,CABL
GRP
Item Description Unit Default
NO Group number or identifier −/LT !
REF Span, reference or sequence number − 0
BASE Base number for this group − *
ICS Construction stage number of activation − -
ICE Construction stage number of deactivation − -
TITL Title of the group Lt32 -
ElementsinSOFiSTiKcanbeorganizedintogroups. Wetherebydistinguishbetweenprimary
groups,addressedbyanumberbetween1and999andsecondarygroups,whichareidentified
by a string of maximum 4 literals (Text Lit*4). The optional reference number at REF can be
set to identify elements within or on the same geometry. It will usually be set automatically by
the mesh generator.
3.9.1 Primary Groups
The important primary group number (1 to 999) of an element is derived uniquely from the
element number with two possibilities depending on the value of SYST GDIV.
• GDIV > 0
The group number is the integer result of the division of the element number by the group
divisor.
Example: Group divisor Element number Group number
1000 1 0 (none)
1000 3569 3
2000 3569 1
5 3569 713
• GDIV=0
All groups receive an increasing individual base value for all element numbers within that
group.
Example: Group Base Element number
0 (none) 0 1-99999
1 100000 100001-199999
2 200000 200001-249999
3 250000 250001-259999
3-12 SOFiSTiK2023InputDescription|SOFiMSHA
4 260000 from 260001
Attention: If no base has been selected, the first element defined within a group will define
that value. Element numbers equal to the base number should be avoided, but are still
allowed with GDIV 0.
• GDIV < 0
Thebasevaluesofallgroups >0willbedefinedafterthegenerationofallelementsbased
to be multiples of the GDIV value. As the base numbers are not used for an element
number, it is no longer possible to use continuous element numbers with that case. All
other features are as in the case GDIV=0. Current limit for elements within a group is set
to 1 Million
The primary group 0 has a special historic context and should not be used for elements to
be deactivated in the construction sequence. Especially it has to be noted, that kinematic
constraints without a group number may not be deactivated.
For the specified element number we have the following procedures:
• not specified or given as 0 will select the next free number in the current group.
• If the first element number is above the base of the group, all element numbers will be
mostly treated as final, i.e. will be corrected only if they do not match the group limits.
• In all other cases the given number not larger than 999 999 will be added to the base.
If no GRP record is defined or this state has been reestablished with a GRP * definition, the
primary group number will be derived from the given element number. In all other cases the
element numbers will be adjusted to fit within the specified primary group.
Themaximumgroupnumberis999forbothcases. Thebasenumberanddesignationofeach
groupisidenticalforalltypeofelements. Largeelementnumbersmaybegivenasanoffsetto
the base number for printing. It is recommended therefor to use base numbers only which are
multiples of 100, 1000 or 10 000.
SOFiSTiK2023 3-13SOFiMSHA|InputDescription
3.9.2 Secondary Groups
Contrary to primary groups, some elements can be assigned to multiple secondary groups.
Secondary groups are available for:
• BEAM,TRUS and CABL-Elements
• SPRI-elements
• QUAD and BRIC-elements
• the nodes of these elements in the secondary group
AsecondarygroupisdefinedbyaleadingGRPrecord,withthegroupidentifieratNOconsist-
ing of maximum four characters (Text Lit*4), and following selection records. For selecting the
elements within the secondary group, the following possibilities exist:
• Element records without an element number select all elements of that type.
• Element records with a single element number, or a pattern matching multiple numbers.
Ranges of element numbers may be defined by two numbers, where the second number
has a negative sign, thus 101,-109 will select all elements from 101 to 109. Patterns are
literals where ’?’ matches any digit, ’*’ matches all digits to the left, ’E’ matches any even
digit and ’O’ matches any odd digit.
• Element records, followed by the literal ’GRP’ and a primary or secondary group ID. Mul-
tiple groups may be combined in one secondary group, by applying the following logical
operations:
’GRP’ selection with option OR
’&GRP’ selection with option AND
’!GRP’ selection with option AND NOT
’~GRP’ selection with option NOT
– Option OR results in the union of the specified groups:
grp 'B1'
quad 'grp' 'A1'
quad 'grp' 'A2'
Figure3.1: ElementsingroupA1ORingroupA2
– Option AND results in the intersection of the specified groups:
grp 'B2'
quad 'grp' 'A1'
quad '&grp' 'A2'
3-14 SOFiSTiK2023InputDescription|SOFiMSHA
Figure3.2: ElementsingroupA1ANDingroupA2
– Option AND NOT results in the difference of the specified groups:
grp 'B3'
quad 'grp' 'A1'
quad '!grp' 'A2'
Figure3.3: ElementsingroupA1ANDNOTingroupA2
– Option NOT results in the complement of the specified groups:
grp 'B4'
quad 'grp' 'A1'
quad '~grp' 'A2'
Figure3.4: ElementsingroupA1orNOTingroupA2
• Selection of elements within a geometric body defined by SBOX: An element will be as-
signed to the secondary group if at least one of its nodes lies within the given volume.
Multipleselectionbodiescanbegiventofurtherspecifytheselection. Ifrecordsofelement
types are added, the selection is limited to those given types, if no such selection is made,
all element types are addressed.
• Selection by element properties: By specifying one of the following special literals at the
number, all elements having one of the further specified properties are selected:
’==’ elements having these properties
’<>’ elements not having these properties
’>’ elements having properties above the given values
SOFiSTiK2023 3-15SOFiMSHA|InputDescription
’<’ elements having properties below the given values
Thefollowingexamplecreatesasecondarygroupidentifiedby’GRS1’andassignsallquad
elements with material number 1:
grp 'GRS1'
quad '==' mno 1
A preceding ampersand ’&’ changes the logical operation from ”or” to ”and”, i.e. the first
casewillselectelementshavinganyofthespecifiedselections,whilethesecondwillselect
only elements having all of the specified conditions of this type.
3-16 SOFiSTiK2023InputDescription|SOFiMSHA
3.10 NODE – Nodes, Coordinates and Constraints
Seealso: SYST,TRAN,KINE
NODE
Item Description Unit Default
NO Node number −/ !
MESH/IMSH Generation LT
FIT/FITL Sequence of nodes
SBOX All within SBOX
X X-coordinate [m] 0
1001
Y Y-coordinate [m] 0
1001
Z Z-coordinate [m] 0
1001
FIX Node constraints Lt16 *
NR1 Node number of reference node − -
NR2 Node number of second reference node − -
NR3 Node number of third reference node − -
NR4 Node number of fourth reference node − -
DX Directions for kinematic constraints or [m] *
1001
DY polar boundary conditions [m] *
1001
DZ [m] *
1001
PHIX Rotation angles for polar or [◦] 0.0
5
PHIY spherical coordinates [◦] 0.0
5
PHIZ [◦] 0.0
5
PHIG Inclination for spherical coordinates [◦] 0.0
5
DIV Subdivision for MESH / IMSH − -
PROG Progression of subdivision − 1.0
SLN Projection on structural line / axis (GAX) −/Lt4 -
SAR Projection on structural area / area (GAR) −/Lt4 -
RC Radius of a sphere / cylinder [m] -
1001
XC Center of the sphere / [m] 0.0
1001
YC Point on axis of cylinder [m] 0.0
1001
ZC [m] 0.0
1001
DXC direction of cylinder axis − 0.0
DYC − 0.0
DZC − 0.0
The nodes are those points defining a mechanical connection between elements. They are
SOFiSTiK2023 3-17SOFiMSHA|InputDescription
addressed via unique node numbers which do not need to be in a consecutive order.
Coordinates or constraints of all the nodes can be defined multiple times as long as no el-
ements have been defined. The last input is valid at any time. With a RESTART nodes or
boundary conditions may be added or changed. If only the constraints or certain coordinates
are to be modified, then only those values should be defined. This feature will allow the use of
different reference nodes.
During the mesh generation nodes will be created automatically. If the user wants to have a
special node with a fixed number at a certain location, he has to define that node explicitly
before generating the mesh.
3.10.1 Coordinates
The user can choose among three coordinate systems for the input:
cartesian cylindrical spherical
X
PHIZ
x PHIZ X x X
Y Y
PHIG
Y
Z z
Z
Z
Figure3.5: CoordinateSystems
For the spherical coordinates (X,PHIZ,PHIG) the angle PHIG is evaluated in advance as the
angle between the gravity direction and the radius of the sphere. The angles PHIX to PHIZ
define the rotations about the global coordinate axis. If more than one angle is defined, the
transformation matrix used is that of the simultaneous incremental rotation (see Theoretical
Principles). The definition of PHIG NORM a normalization based on the tangent values is
selected which is easier to use in most cases.
If only one reference node is defined, all coordinates are considered to be relative to this
reference node. A node should not be defined relative to itself.
If two or three reference nodes are given, the new node will be on the line defined by the first
two points. Depending on the definition of coordinates there will be different projection rules
applied. In thecaseoftworeferencenodes thecoordinatesaretakenasabsolute, inthecase
of three coordinates, they are taken relative to the third node NR3:
• If only one coordinate is given, the node will be on the line with that absolute or refered to
NR3coordinatevalue. (X0.0withNR3isthusequivalenttotheREFXXinALINofGENF)
• In case of two defined coordinates, the point NR3 as well as the straight line NR1-NR2
are projected onto the respective plane of the two defined coordinates. In this plane the
perpendicular point from the projection of NR3 is then calculated onto the projected line.
3-18 SOFiSTiK2023InputDescription|SOFiMSHA
Figure3.6: TwoorthreeReferenceNodes
ThepointNOliesexactlyontheconnectingline,havingthesameprojectioninthedirection
of the missing coordinate onto this perpendicular point.
• If there are three coordinates given or only the third reference NR3, then the projection is
perpendicular in space on the line between those two nodes.
• The definition of a literals S or SS at position NR3 will take the X-value as an absolute (S)
or relative (SS) measure along the line from NR1 to NR2.
• The definition of a literal PERP at position NR3 will create the new node as a projection of
(x,y,z)onaplaneperpendiculartoNR1-NR2atpointNR1. Thus(x,y,z),NR,NR1andNR2
are coplanar.
The base of the projection may be also given as a NR1 FIT node1 node2, the definitions to
NR3 are then given with item NR4.
Iffourreferencesaregiven,thenodeistheintersectionofthelinesNR1-NR2andNR3-NR4or
the point with the smallest distance on NR1-NR2 if the lines are skewed in three dimensions.
Figure3.7: FourReferences
As it is impossible to define kinematic constraints for a reference node and absolute coor-
dinates in the same record, it is advantageous to define first all the nodal coordinates and
subsequentlyallthesupportconditionsandkinematicconstraints(thenwithoutcoordinates)in
a separate record.
There is also the possibility to project the coordinates on to a general surface or axis. Similar
to the option of the hanging nodes, this may be specified as one time option with the nodal
definitionorwithNODEPROPasadefaultforallfollowingdirectorgeneratednodedefinitions.
ThedefaultwillremainactiveuntilanewNODEPROPrecordisdefined. Asprojectiontargets
we have all lines and areas defined with SOFIMSHC (Items SLN and SAR), as well as explicit
definitions of a sphere (R,XC,YC,ZC) or a cylinder. This is also intended to add manually
SOFiSTiK2023 3-19SOFiMSHA|InputDescription
elements after an automatic mesh generation from SOFIMSHC.
3.10.2 Nodal generations (MESH and IMSH)
Nodes may be generated with the following possibilities:
• DefinitionofliteralMESHatpositionNOforagenerationwithautomaticnodenumbersnot
yet used. All generated nodes are compared against already existent nodes and created
only if necessary (see CTRL FIT).
• Definition of literal IMSH at position NO for a generation with interpolated node numbers.
All nodes already defined within the selected sequence are retained, the interpolation will
be in between those nodes only.
In both cases the following positions X and Y are used to specify two node numbers NA and
NE. The number of subdivisions may be specified with DIV either as integer value n or as real
factor 1/N. For IMSH it is also possible to specify at position Z an increment:
NODE IMSH 101 181 10 generates 111,121 .. 171
NODE IMSH 101 181 DIV 8 dito
NODE IMSH 101 181 DIV 1/8 dito
At position Z a third node NM may be specified for MESH to define curved edges:
• a positive number NM generates quadratic interpolated nodes based on the geometry de-
fined by the three nodes NA, NM, NE. Node NM does not need to coincide with one of the
final generated nodes.
• anegativevalueNMgeneratescircularinterpolatednodesbasedonthegeometrydefined
by the three nodes NA, NM, NE. Node NM does not need to coincide with one of the final
generated nodes.
With PROG one can define edges with a subdivision as geometric progressions. Starting
at NA, each segment is PROG times the previous one. If PROG is negative, a symmetric
partitioning takes place (length of the first segment equal to that of the last one).
PROG=1.5 PROG=-1.5
Figure3.8: GeometricProgression
For the reference nodes it is possible to specify starting at item NR1 the definitions FIT k1 k2
or MESH/IMSH k1 k2 km. The divisions have to match of course.
3.10.3 Nodal sequences (FIT)
Any Generation of nodes according to the preceding paragraph will save the list of generated
node numbers to be reused for other generations. However it is also possible to generate a
sequence of existing node numbers. Thus we have the following possibilities:
3-20 SOFiSTiK2023InputDescription|SOFiMSHA
• a literal FIT for NO will search for an already defined nodal sequence between start and
end node. If a node sequence is found with a geometric length not longer than a certain
threshold value of the direct connection (CTRL FIT) this will be used and DIV will be set to
the subdivision found.
• a literal FITL will search for all nodes which are located within the tolerance specified with
CTRL GTOL on the straight line between start and end node, sort them according to their
relative distance and create a FIT from that, thus also defining the default value of DIV.
Again in both cases the following positions X and Y are used to specify two node numbers NA
and NE.
For the generation of elements, it is also possible to generate nodes or nodal fits onn the fly
automatically. This has to be defined with the number of subdivision segments DIV or M and
N for QUAD or M and N and K for BRIC and optional mid nodes NMi.
3.10.4 Support Conditions
Supports of a node can be described by any combination of the following literals (maximum
of 16 characters). Any degree of freedom not included in a 2-D system gets fixed automati-
cally. The default constraint is the value defined by FIXS in SYST. Elastic supports or support
conditions along an edge may be defined also via the record BOUN.
PX Constraint of displacement in x
PY Constraint of displacement in y
PZ Constraint of displacement in z
PR Skewed constraint of displacement in a direction
PT skewed constraint of displacements perpendicular to a direction
MX Constraint of rotation about x
MY Constraint of rotation about y
MZ Constraint of rotation about z
MR Skewed constraint of rotation about a direction
MT Skewed constraint of rotation perpendicular to a direction
MB Constraint of warping
XP = PY + PZ
YP = PX + PZ
ZP = PX + PY
PP = PX + PY + PZ
XM = MY + MZ
YM = MX + MZ
ZM = MX + MY
MM = MX + MY + MZ
FREE = Deletion of all constraints
F = PP + MM + MB
A boundary condition on a symmetry or an anti-symmetry axis can be defined with PRMT or
SOFiSTiK2023 3-21SOFiMSHA|InputDescription
PTMR, respectively, if the direction of the kinematic constraint is defined perpendicular to the
axis. Thus a direction must be defined in case of PR, PT, MR, MT by means of DX, DY, DZ or
the reference node. A coupling to another node is not generated for these supports.
Support conditions and couplings may be added and subtracted at will. Subtraction is defined
by a preceding minus character. Thus the following definitions are all equivalent:
NODE 101 FIX PX,PY
NODE 101 FIX PXPY
NODE 101 FIX ZP
NODE 101 FIX PP,-PZ
NODE 101 FIX PT DZ 1.0
NODE 101 FIX PP ; 101 FIX -PR DZ 1.0
3.10.5 Kinematic Constraints
Support conditions can also be defined in relation to another node (reference node). Coupling
conditionsdescribeinfinitelystiffelementsandspecialboundaryconditions,whicharenumeri-
callystable. Theyareusedfortheformulationofboundaryconditionsforplatesandshellsand
the modeling of very stiff structural parts. General coupling conditions can be defined using
the record KINE.
The following inputs are therefore only allowed in conjunction with the parameter NR1 in most
cases. Combinations with other types of literals are not allowed. All constraints will have a
group assigned to, but there are special rules described at the end of this paragraph. The
formulasofthekinematicconstraintsaremostlygivenasthedependingdegreeoffreedomon
theleftsideoftheequationsign,whilethereferenceddegreesareontherightside. Theindex
0 is always a degree of the reference node.
Coupling conditions, as linear relations, can not be used for any non-linear geometric analysis
(they can not describe 2nd or 3rd order theory effects).
Remark: For clarity, please specify kinematic constraints in a separate statement after defini-
tion of the nodal position, e.g.,
NODE 101 X 10.0 0.0 0.0
NODE 101 FIX KPPX NR1 1001
instead of
NODE 101 X 10.0 0.0 0.0 FIX KPPX NR1 1001
For the latter input, already the nodal position of node 101 is defined relative to the reference
node 1001.
KPX0 explicit kinematic constraint of x-displacement only (u = uo)
KPY0 explicit kinematic constraint of y-displacement only (uy = uyo)
KPZ0 explicit kinematic constraint of z-displacement only (uz = uzo)
Attention: TheconstraintsKPX0, KPY0, KPZ0mayviolatetheglobalequilibriumofmoments
if they are used to connect transverse shear. There will be a warning if the distance of the
couplednodeswillallowthatmechanism. TheseconstraintswillNOTbecombinedwithothers.
3-22 SOFiSTiK2023InputDescription|SOFiMSHA
KPPX Connection of x displacement only (see formula 1)
KPPY Connection of y displacement only (see formula 2)
KPPZ Connection of z displacement only (see formula 3)
KMX Kinematic constraint of rotation about the x-axis (φ  = φ o)
KMY Kinematic constraint of rotation about the y-axis (φ y = φ yo)
KMZ Kinematic constraint of rotation about the z-axis (φ z = φ zo)
KMM KMX + KMY + KMZ
KPR Skewed kinematic constraint of displacement in a direction
KPT Skewed kinematic constraint of displacements transverse to direction
KMR Skewed kinematic constraint of rotation about a direction
KMT Skewed kinematic constraint of rotations transverse to a direction
Only for the literals above a definition without NR1 is possible to define a support in a node.
KP Hinged connection to rigid body at the reference node
KPEX Rotation about x-axis only (see formula 7 to 8)
KPEY Rotation about y-axis only (see formula 10 to 11)
KPEZ Rotation about z-axis only (see formula 13 to 14)
(e.g. flexible slab, rigid disk)
KL = KP + KMT
KQ = KP + KMR
KF Fixed connection to rigid body at the reference node
KFEX Rotation about x-axis only (see formula 7 to 9)
KFEY Rotation about y-axis only (see formula 10 to 12)
KFEZ Rotation about z-axis only (see formula 13 to 15)
Independant Constraints (see also remarks for KINE).
SYM Symmetry conditions about the mid-perpendicular
ANTI Anti-symmetry conditions about the mid-perpendicular
CYCL Cyclic symmetry conditions
EST - Equivalent stress transformation
ESTL stress transformation along a line
ESTA stress transformation for a sectional area
A very general technique for the connection of different element types has been published by
Werkle2002withtheconceptofan"‘equivalentstresstransformation"’. Thebasicideaiseasy
to describe.
Areducedsystemdefinesastressdistributione.g. withacrosssection. Thestressesinduced
by a single force or moment will be applied to the finite element mesh. The calculated nodal
forces will define a special constraint of the beam node referenced on the nodes of the FEM
mesh. This yields a smoothing of the forces due to the distributed support stresses.
SOFiSTiK2023 3-23SOFiMSHA|InputDescription
The transverse forces and the torsional moment will be treated as with the INTE constraint.
Thus the transverse displacement of the support node will be the mean value of the other
nodes and the torsional rotation of it will be the mean value of the other polar rotations.
The support node should not be part of the FE-mesh but it may be supported rigidly. The
kinematic constraints will be adopted accordingly.
The support area is either described by a section number at item NO1 or an explicit definition
with items DX, DY and DZ. (For ESTL the linear segment, for ESTA the two dimensions of a
rectangle or the radius of a circle at the third dimension)
The orientation of the sectional coordinate system is given by the local coordinate system
of the structural point NO or the defined global dimensions and the orientation of the gravity
direction. For a planar slab system the local z-axis will be aligned to the global X-axis. For a
ESTA definition a rotation angle about the local x-axis may be specified at item NO2.
In both cases at item NO3 a primary or secondary group number may be specified to select
the QUAD elements of the transformation.
The transformation will be compiled to an explicit kinematic condition.
Kinematic conditions of couplings
KPPX:   =  o + φ yo · (z − z o) − φ zo · (y − y o) (3.1)
KPPY:  y =  yo + φ zo · ( −  o) − φ o · (z − z o) (3.2)
KPPZ:  z =  zo + φ o · (y − y o) − φ yo · ( −  o) (3.3)
KP: KPPX + KPPY + KPPZ
KF KP + φ  = φ o (3.4)
φ y = φ yo (3.5)
φ z = φ zo (3.6)
KPEX:  y =  yo − φ o · (z − z o) (3.7)
 z =  zo + φ o · (y − y o) (3.8)
KFEX: KPEX + φ  = φ o (3.9)
KPEY:   =  o + φ yo · (z − z o) (3.10)
 z =  zo − φ yo · ( −  o) (3.11)
KFEY: KPEY + φ y = φ yo (3.12)
KPEZ:   =  o − φ zo · (y − y o) (3.13)
 y =  yo + φ zo · ( −  o) (3.14)
3-24 SOFiSTiK2023InputDescription|SOFiMSHA
KFEZ: KPEZ + φ z = φ zo (3.15)
The conditions PR and PT, KPR and KPT as well as their counterparts for moments are not
explicitly but implicitly defined. The programs themselves create an appropriate explicit form.
PR: t · n = 0
  · d +  y · dy +  z · dz = 0 (3.16)
PT:  · n = 0
  
 y z
= = (3.17)
d d d
 y z
KPR: ( −  )t · n = 0
o
(  −  o) · d + ( y −  yo) · dy + ( z −  zo) · dz = 0 (3.18)
KPT: ( −  ) · n = 0
o
( −  ) ( −  ) ( −  )
 o y yo z zo
= = (3.19)
d d d
 y z
The symmetry and anti-symmetry conditions are given in the following equations in vector
notation. A presentation of their components is not included here:
SYM: t · n = −t · n
o
ANTI: t · n = t · n
o
The directional or differential vector n = (dx,dy,dz) is built from the differences of the node
coordinates. ThesecoordinatedifferencescanalsobespecifiedexplicitlybymeansofDX,DY
and DZ.
All constraints will have a group assigned to. This will allow to deactivate or activate those
constraints the same way as the elements within the analysis programs. However, there are
some special rules to obey:
• For compatibility reasons, the group Zero will be always active, respective the constraints
are active if they connect to an active element within the current group selection.
• It is not possible to cheat and to build closed-loops or multiple definitions of constraints by
using different group numbers.
Certain degrees of freedom, that have been defined as constrained, can be supported again
with the input of a support condition. The constraint will then become ineffective. An inversion
of constraints with this method is definitely not possible.
If for the selection of nodes a sequence of nodes has been created or referenced, an input of
FIT at NR1 may be used to select an existing FIT between the nodes NR2 and NR3.
SOFiSTiK2023 3-25SOFiMSHA|InputDescription
3.10.6 Hanging nodes
In case of mesh refinements, anchor points or in cases of stiff cross-girders there may arise a
need for nodes that lie between others and depend on them. A rather general interpolation is
available with KINE INTE, simpler cases may be defined with an explicit constraints INT? and
special reference literals QGRP/BGRP.
N1
N1
N0
N2
N0
N2
Figure35:INTE couplings
Figure3.9: INTE-couplings
The INTE-coupling is a constraint with special attributes (see also remarks for KINE). Herein,
opposite to node couplings, one node (the middle node) becomes dependent on two other
nodes. The displacements and rotations of the middle node are interpolated from the corre-
sponding ones of the adjacent nodes. Thus no artificial stiffness is introduced in the system.
A more general formulation may be obtained via KINE. A rigid body with three nodes must be
described by means of two KP/KF couplings; the INTE-coupling can not be used in that case.
 = · DD +  · (1−DD)
0 1 2
ThereareseveralvariantsofinterpolationusedbyINTE-couplings, whicharedescribedinthe
following. The constraint may be also used with three or four reference nodes.
INTE
Displacements: linearly interpolated
Rotations: not defined
Application: mesh refinements TALPA
INTF
Displacements: linearly interpolated as in TYPE P
Rotations: ”torsion” linearly interpolated, other rotations com- puted from dis-
placement differences divided by the respective node distances
Application: connection of beam elements onto disks stiff cross-girders between
two supports
In the general three-dimensional case, if one draws the lines connecting the two nodes in the
initial undeformed as well as in their deformed state, two rotational components are defined
exactly by the secant angles of those. The third yet undetermined rotational component has
the direction of the connecting line (torsion), and it is normally interpolated. The general ex-
pression is very complicated; however, INTE-couplings parallel to the axes of coordinates can
3-26 SOFiSTiK2023InputDescription|SOFiMSHA
be expressed by much simpler expressions, e.g.,
X=0.
Y =d
Z=0.
results in:
φ = Δ / d
 z
φ = φ − m
y y
φ = − Δ / d
z 
INTS
Displacements: quadratically interpolated
Rotations: linearly interpolated
Application: mesh refinements of plates and shells
In mesh refinements of plates and shells there is a problem in coupling the translational and
rotational degrees of freedom. Very poor elements function with a plain interpolation. Due to
the peculiarities exhibited by the formulation of the SEPP/ASE-elements, even in its simplest
form, the INTE-conditions must be accordingly complicated. In case of regular elements by
Kirchhoff’s theory for example, a cubic interpolation of the displacements and two of the rota-
tions must be employed. Mindlin elements also work with the so-called Kirchhoff constraints.
Inprincipleofcourse,translationsandrotationsareinterpolatedindependentlyofoneanother,
yet properadditional conditions areused to makesure that theshear force correspondsto the
derivative of the moment.
Aquadraticdistributionofthebendingdeflectionalongwithalineardistributionoftherotations
can be accomplished through the introduction of an additional translational degree of freedom
at the middle of an element’s side. This additional degree of freedom can be later eliminated.
ThismethodisalsoemployedbyV-couplings. Althoughtheformulationisconsistentandleads
to considerably better results than the older methods, it is not recommended unlimited. In
particular, it should not be used with non-conforming elements.
The application of INTE in the direct vicinity of singularities is generally not recommended.
For the coupling of independent meshes a special input with NR1 as QGRP and NR2 as
nn, the QUAD elements of the group nn will be scanned for a matching element. With the
literals QGRX, QGRY and QGRZ the search for the elements will ignore the specified global
coordinate. Similar the definition of NR1 BGRP creates the constraints for a node within a
BRIC-elementbelongingtogroupNR2. Inthosecasesitisalsopossibletoselectthedegrees
to be interpolated with FIX. If this option is given without a node number or with NODE PROP
it will become effective for all following generation of nodes with NODE, TRAN, MIRR or any
other mesh generation until an explicit NODE PROP or single NODE FIX FREE is given. The
selection of elements may be faster by using the CTRL OCTR command.
SOFiSTiK2023 3-27SOFiMSHA|InputDescription
3.11 EDGE – Edge Definition
Seealso: SPRI,FLEX,GRP,NODE
EDGE
Item Description Unit Default
NO Edge number or identifier −/Lt4 !
TYPE Selectiontyp of intermediate nodes LT -
NONE / FIT / FITL
N1 first node number − -
N2 second node number − -
N3 third node number − -
...
N36 36th node number − -
Thisrecordallowsthedefinitionofedges,tobeusedforgenerationsandboundaryconditions.
The created information in the database contains only a list of nodes along the edge, no other
data. More than one record with the same edge number may be defined. Edges with a literal
as identifier are primarily intended for boundary conditions and loading.
SOFIMSHCresp. SOFiPLUSwillgenerateanEDGEwiththesamenumberforeverystructural
line used for mesh generation. To simplify the input of regular numbers it is possible to
combine two entries of the list to a range with a negative element. A sequence of 101 -191
selects all defined nodes within that intervall, e.g. 101,111,121,...,191.
3-28 SOFiSTiK2023InputDescription|SOFiMSHA
3.12 KINE – Kinematic Dependencies
Seealso: NODE
KINE
Item Description Unit Default
ND Dependant node number − !
FIX Dependent degrees of freedom Lt16 !
ND1 Reference degree of freedom 1 LT -
FD1 Factor for reference degree of freedom 1 − -
ND2 − -
FD2 − -
...
...
ND21 − -
FD21 − -
In general cases kinematic dependencies can also be defined explicitly:
(ND) = (ND1) · FD1 + ..... + (ND21) · FD21
ThedependentdegreesoffreedomareselectedwithanodenumberND+asupportcondition
literal FIX, which may also contain multiple degrees of freedom. The reference degrees of
freedom are defined by:
node number + 0.1 · local degree of freedom
1 = u 2 = uy 3 = uz
4 = φ  5 = φ y 6 = φ z 7 = φ b
0 = same or corresponding degrees of freedom as FIX
e.g the record
KINE 100 PZ 1.3 1.0 2.5 0.5
KINE 200 PP 201 0.5 202 0.5
defines the displacement uzof node 100 is defined as the sum of the displacement uz of node
1 and one-half of the rotation φ y of node 2. Further all three displacements of the nodes 200
willbeobtainedbythemeanvalueofthecorrespondingvaluesatnodes201and202(i.e. 200
is a hanging node)
If the dependent degree is defined as INTE, constraints are defined to allow the distribution of
a loading of forces and moments on the dependent node as forces on the reference nodes.
This can be used to define a mass on several points of the structure. If only selected degrees
should be used, these degrees may be appended with a "‘:"’ (eg. INTE:PXPYMZ)
SOFiSTiK2023 3-29SOFiMSHA|InputDescription
The factors of the dependent nodes are taken as weight functions W , defaulting to 1.0 in
general.
The kinematic constraints are derived from the distribution of forces and moments in the de-
pendent point a:
W

F  =F · (cid:80)W (3.20)

W ·r
 
F  =M · (3.21)
(cid:80)W ·r2
 
For the warping degree the following condition is assumed:
F  =M b·Δy·Δz (3.22)
If a positive number is entered for ND, then the same kinematic constraint also applies to
the reaction forces. Therefore, no reaction forces arise at coupled nodes. If ND is negative,
however, the kinematic constraint applies to the displacements only. Rigid bodies are typical
cases of the first variant, oblique supports are typical of the second one.
More than 21 degrees of freedom may be defined recursively by means of one or more of the
NDi being constraints depending on other degrees.
Each degree of freedom is allowed to have at most one such definition. This can be accom-
plishedwithappropriategroupdefinitions. WhiletheconstraintsdefinedwithNODEaremostly
combinedautomatically,itistheresponsibilityoftheusertoassurevaliddefinitionswhencom-
bining KINE or INTE constraints avoiding duplicate definitions.
3-30 SOFiSTiK2023InputDescription|SOFiMSHA
3.13 GETN – Enquire node or element number
GETN
Item Description Unit Default
X Coordinates [m] 0.0
1001
Y [m] 0.0
1001
Z [m] 0.0
1001
VAR Name of a CADINP variable Lt8 !
(without the # character of course !)
IND base index of the variable − -
TOL Tolerance for the search [m] *
1001
TYP Object type − NODE
NODE Nodes
QUAD QUAD elements
BRIC BRIC elements
GRP primary group number for QUAD/BRIC − -
This record is intended for special cases where it might become necessary to identify gener-
atednodesorElements. TheinputforthisrecordarethecoordinatesandSOFiMSHAwillthen
scan the list of objects for a match.
ForTYPENODEthelistofthenodenumberswithinthetolerancearround(X,Y,Z)willbesaved
to the specified CADINP variable array. If the tolerance is specified with a negative entry only
the closest node number will be saved to the variable.
ForTYPEQUADorBRIConlythefirstelementwiththepoint(x,y,z)withintheelementistaken.
Overlapping elements hae to b treated with definition of a primary positive group number at
GRP.Thefollowingentriesarethefour/eightnodenumbersandthenthecorrespondingvalues
of the shape functions for these nodes.
Ifthecoordinatesofanodeareneededintheinput,theymaybeobtainedinnearlyallprograms
with the special CADINP variables.
#COOR_X(nummer)
#COOR_Y(nummer)
#COOR_Z(nummer)
As in SOFIMSHA the coordinates will be generated only after having read all input data, it
might be necessary to use a restart with SYST REST.
SOFiSTiK2023 3-31SOFiMSHA|InputDescription
3.14 TRUS – Truss Elements
Seealso: CABL,BEAM,GRP
TRUS
Item Description Unit Default
NO Number of truss member or option − *
PROP Definition of default values
MESH Generation of nodes
IMSH Generation of nodes
FIT Fit in existing nodes
FITL Linear Fit in existing Nodes
NA Start node − !
NE End node − !
NCS Cross section number − 1.
PRE Prestress force [kN] 0.
1101
GAP gap of contact [m] 0.
1001
CRAC Tensile rupture force [kN] -
1101
YIEL Yield force (tension and compression) [kN] -
1101
DIV Subdivision in Elements − -
NM optional 3rd subdivision node − -
(see comments in record NODE)
Figure3.10: Trussmember
A truss element can only sustain tensile or compressive forces. Truss elements can not be
processed with SYST GIRD/SLAB. Definitions of GAP, CRAC or YIEL will become effective
only within a non linear analysis, the user has to check if the used version of the analysis
program includes this feature already.
The prestress is active in all load cases, thus in general it can not be used for load super-
positioning with the program MAXIMA. In these cases it is thus better to define it as a load.
3-32 SOFiSTiK2023InputDescription|SOFiMSHA
A uniform partitioning can be defined with DIV and NM. For more details see the node section
of chapter NODE
With the input of the literal PROP for NO it is possible to define values, becoming default for
following records and especially for the Import. With the input for instance
TRUS PROP NCS 1
the cross section number is defined with 1 for all following TRUS records.
When defining after PROP (at item NA) an element number, all properties will be preset to
those of that element in the current import source data base (IMPO).
SOFiSTiK2023 3-33SOFiMSHA|InputDescription
3.15 CABL – Cable Elements
Seealso: TRUS,BEAM,GRP
CABL
Item Description Unit Default
NO Number of cable element or option − !
PROP Definition of default values
MESH Generation of nodes
IMSH Generation of nodes
FIT Fit in existing nodes
FITL Linear Fit in existing Nodest
NA Start node − !
NE End node − !
NCS Cross section number − 1.
PRE Prestress force [kN] 0.
1101
GAP gap of contact [m] 0.
1001
CRAC Tensile rupture force [kN] -
1101
YIEL Yield force [kN] -
1101
DIV Subdivision in Elements − -
NM optional 3rd subdivision node − -
(see comments in record NODE)
Figure3.11: Cableelement
However, during linear-elastic analysis cable elements behave as truss elements receiving
tensile as well as compressive forces. By definition, Eigenvalue analysis also imply linear-
elastic behavior. For the consideration of non-linear effects such as cable-sag or tension-
only behavior the respective non-linear procedures within ASE must be used. However, the
geometric stiffness due to the prestress is taken into consideration. Cable elements can not
beprocessedwithSYSTGIRD/SLAB.DefinitionsofGAP,CRACorYIELwillbecomeeffective
only within a non linear analysis, the user has to check if the used version of the analysis
program includes this feature already.
3-34 SOFiSTiK2023InputDescription|SOFiMSHA
The prestress is active in all load cases, thus in general it can not be used for load super-
positioning with the program MAXIMA. In these cases it is thus better to define it as a load.
A uniform partitioning can be defined with DIV and NM. For more details see the node section
of chapter NODE
With the input of the literal PROP for NO it is possible to define values, becoming default for
following records and especially for the Import. With the input for instance
CABL PROP NCS 1
the cross section number is defined with 1 for all following CABL records.
When defining after PROP (at item NA) an element number, all properties will be preset to
those of that element in the current import source data base (IMPO).
SOFiSTiK2023 3-35SOFiMSHA|InputDescription
3.16 BEAM – Beam Elements
Seealso: BSEC,GRP,BOUN
BEAM
Item Description Unit Default
NO Element number or option −/LT *
NA Number of start beam node − !
NE Number of end beam node − !
NCS Cross section number or two section numbers − 1
(start.end) or a formula with a preceeding ’=’
DIV Equal partitioning of beam − -
NM optional 3rd subdivision node (see NODE) − -
AHIN Hinge condition or work law at beam start LT -
EHIN Hinge condition or work law at beam end LT -
NP Numberofabeddingprofileorareferenceaxisforan
eccentrical beam
BETY Buckling length coeff. (main bending) − 0
BETZ Buckling length coeff. (transverse) − BETY
ALFY Span length coeff. (main bending) − -
ALFZ Span length coeff. (transverse) − ALFY
KR Orientation of local coordinates LT/− 0
DRX Direction vector − *
DRY − *
DRZ − *
DROT Additional rotation about beam axis degree 0
XA Eccentricity of start of beam [m] 0
1001
YA in global coordinates [m] 0
1001
ZA referenced to the start node [m] 0
1001
XE Eccentricity of end of beam [m] 0
1001
YE in global coordinates [m] 0
1001
ZE referenced to the end node [m] 0
1001
A beam element is defined by two nodes and a cross sectional description. Records of type
BSECcanbeusedtodescribeanydesiredvariationofthecrosssection. Auniformpartitioning
canbedefinedwithDIV.WiththedefinitionofaliteralMESH/IMSH/FIT/FITLforNO,individual
beam elements will be created (see also NODE, CTRL FIT. In this case, DIV is the number of
elements. With the input of the literal PROP for NO it is possible to define values, becoming
defaultforfollowingrecordsBEAMandespeciallyfortheimportormodification. Withfollowing
input
3-36 SOFiSTiK2023InputDescription|SOFiMSHA
BEAM PROP NCS 10
the cross section number is defined with 10 for all following BEAM / MOD / TRAN or MIRR
records.
When defining after PROP (at items NA, NE) one or two numbers, all properties will be preset
tothoseoftheelementsofthespecifiedcontinuousbeamnumbersinthecurrentimportsource
data base (IMPO). In that case the section definitions and subdivisions will be also predefined
unless an explicit definition of DIV 0 or DIV -n or explicit BSEC records are specified. DIV +n
has here the special function to define a different subdivision, while maintaining the explicit
section definitions.
AHIN and EHIN allow the definition of hinges at beam start section and beam end section,
respectively. For this, two variants exist. Classical hinge conditions are specified by a combi-
nation of the following literals (without spaces in between):
N VY VZ MT MY MZ MB (Default: no hinges)
The literals indicate the corresponding sectional force to be unconstrained. PP and MM are
definedas"‘allforces"’and"‘allmoments"’. Ifexplicitly"‘nohinge"’shouldbedefined(forMOD
or within a table with other defaults) an empty string "‘ "‘ may be used.
Forimplicithinges,ontheotherhand,aspecifichingereactionisnotcompletelyunconstrained
butitobeysadefinedworkinglaw. Implicithinges,therefore,provideforamoregeneralsetting.
A corresponding set of working laws (at the most, one for every single sectional force) can be
definedbymeansoftheinputrecordSFLA(AQUA).Provisionofanimplicitbeamhingeisthen
simply achieved by referencing the appropriate working law number. Example:
BEAM 1 1 2 NCS 11 AHIN 111 EHIN 112
It has to be pointed out, that all hinges are treated with a static condensation at the element
level (Guyan Reduction) For eigen value analysis, especially for buckling eigen values larger
deviations may occur. If a single beam element is transformed to a truss element by hinges,
it looses all its bending properties, thus the buckling is no longer possible within a pure FE
analysis. A correct model has to include all degrees of freedom in the global system matrix,
thus the effects have to be described by duplicate nodes, kinematic constraints and spring
elements.
If NP is -1 a reference axis beam is generated. The axis of the beam then lies in the origin of
thecrosssectionalcoordinatesystem! WiththeinputNP > 0apileresp. referenceaxisbeam
element is generated, whose attributes are defined with the profile BORE NP.
3.16.1 Plane Beam Coordinate System
Each beam or pile has a local coordinate system x, y, z (see fig. 2.2). The longitudinal axis
of the beam NA-NE defines the positive x-direction. The following cases can be distinguished
regarding the orientation of the other two axes:
• Plane frame
The structure is defined in the global XY-plane. The local y-axis of the beam is always
parallel to the global Z-axis for an international coordinate system ( WFRA, WPAI etc.) but
in the opposite direction for SOFiSTiK-coordinate System (FRAM, PAIN etc.) as in the
SOFiSTiK2023 3-37SOFiMSHA|InputDescription
picture below. The local z-axis is then always in the structural plane, based on a right
handed coordinate system.
Figure3.12: Planeframe
• Girder system
ThestructureisdefinedintheglobalXY-plane. Thelocalz-axisisfortheSOFiSTiKcoordi-
nate system (GIRD, see picture below) parallel to the global Z-axis, but for an international
coordinate system (SLAB) in the opposite direction (anti parallel). Thus the local z-Axis is
in the gravity direction in most cases. The local y-axis is obtained based on a right handed
coordinate system from the other two axises within the structural plane.
Figure3.13: Girdersystem
3.16.2 Spatial Beam Coordinate System
In a three-dimensional system the orientation of the local y-axis must be defined by the user.
The parameter KR and the following four values are available for this purpose. The longitu-
dinal axis of the beam NA-NE defines the positive x-direction. The local y- and z-axis are
perpendiculartothelocalx-axes. Theirorientationisdeterminedbythethree-fingerrighthand
rule.
The following possibilities exist:
• 3.1. KR=0 (Default)
The local y-axis is horizontal and perpendicular to the axis of the beam, thus to the right of
the direction of the beam. Thus the local z-axis is always downwards. The default may be
3-38 SOFiSTiK2023InputDescription|SOFiMSHA
changed with CTRL LOCA, options 2 and 3 use POSZ instead of the gravity direction.
Figure3.14: Defaultorientation
In case the beam axis is parallel to the ”gravity direction”, then there are several possibili-
ties depending on the value of CTRL LOCA:
0 local y in first horizontal axis
1 local z in first horizontal axis
2 local z in global X (IFC)
3 local z in global Y (GENF)
It is strongly recommended however to define the orientation explicitly in those cases.
NA
NE
NE
NA
Figure3.15: Specialcasesofthedefaultorientation(GDIRPOSZ,CTRLLOCA0)
• KR positive (>0)
A positive value for KR is interpreted as a reference node. The local y-axis (CTRL LOCA
0/2) or the local z-axis (CTRL LOCA 1/3) lies in a plane defined by the nodes NA-NE-KR.
Therefore, KR may not lie on the straight line NA-NE.
SOFiSTiK2023 3-39SOFiMSHA|InputDescription
Figure3.16: Directionnode
• explicit direction by literal
If one of the literals POSX, POSY, POSZ, NEGX, NEGY or NEGZ is input for KR the local
y-axis (CTRL LOCA 0/2) or the local z-axis (CTRL LOCA 1/3) will be placed on a plane,
which is defined by the beam axis and the coordinate axis corresponding to that literal.
• explicit direction (DRX,DRY,DRZ) or literal
If an explicit direction is given it is possible to specify with KR LOCY (default) or KR LOCZ
which of the local coordinate axes should be aligned in that direction.
• additional rotation about DROT KR negative ( < 0)
A value for DROT is interpreted as an angle in degrees, by which the coordinate system is
rotated about the beam axis.
Figure3.17: Rotationofthecrosssection
3.16.3 Haunches, sections and continuous beams
Beams can have segments and variable cross sections. Although not all of the programs can
consider all the effects resulting from this. One must occasionally settle with an average value
(e.g. rotation of the principal axes or shear centre).
The interpolation of cross sections for generated element or element sections is done after
SOFIMSHA in a post processing step of AQUA with the input definition of INTE ALL. All sec-
3-40 SOFiSTiK2023InputDescription|SOFiMSHA
tionsreferencingtoageometricaxis,orarenotexplicitlyspecifiedotherwisewillthenberecre-
ated and interpolated.
Ontheothersideitispossibletocombineseveralbeamelementstoasinglecontinuousbeam
for the design or detailing. This will be detected automatically if the beams are defined in the
correctsequenceandnoneofthebreakconditionsdefinedwithCTRLCONTisencountered.
It is also quite common that a beam has small cantilevers which are useful to generate the
correct dead load or facilitates the definition of other loading. This has to be defined with
record BSEC.
Free Span
Effective Span
Total Span
Figure3.18: Smallcantilevers
Foraverygeneralpositionofthenodesrelativetothebeam(referenceaxis),thereoccuraddi-
tionaleccentricities. Whilethelocaly-andz-directionaremainlyspecifiedviathecrosssection,
there is the possibility to define eccentricities in the beam direction with sections marked as of
infinite rigidity which are called ”virtual” within the SOFiSTiK-context.
Figure3.19: Virtualsections
SOFiSTiK2023 3-41SOFiMSHA|InputDescription
3.17 BSEC – Beam Sections
Seealso: BEAM
BSEC
Item Description Unit Default
X Section location [m] !
1001
NCS Cross section number − *
SPEC Special options of section Lt8 *
N Print only if requested
D do not apply self weight
A Section X value taken to start of beam
E Section X value taken to end of beam
S Value of X is fraction of effective beam
length
I interpolate section
V Virtual section (has infinite stiffness)
B section of bending member
C section of compress. member
TYPM Type of section for main bending LT SECT
TYPT Type of section for transverse bending LT SECT
SECT Regular section
FACE Face of a clamped support
HFAC Face of a support with articul. connection
(masonry)
IFAC Section at the face of an indirect support
SHEA Critical sect. for shear design
NO Beam number − *
The output or the design of internal section forces is usually only possible for sections. For
non-linear analysis it is necessary to define a sufficient number of sections.
According to the philosophy of Finite Elements, the basic approach is to discretize the model
insmallelementseachwithaconstantsection. Howeveranalternatemodelingistodefinead-
ditional sections within a larger beam element. It is strongly dependent on the implementation
of the beam element which model is preferable in individual cases. For a haunched beam two
extra effects have to be treated: The inclination of the center line has to be accounted for, and
the variation of the stiffness between two sections has to be modeled in some way.
The X-value will be always measured form the specified reference point positive in the direc-
tion towards the middle of the beam. Negative beam ordinates thus define cantilevers. The
referencepointcontrolsalsothesmoothingalgorithmoftheforcesatthesupports. IfneitherA
or E is specified, the program will take all X-values relative to the start node of the beam.
3-42 SOFiSTiK2023InputDescription|SOFiMSHA
A E
-x +x +x -x
Figure3.20: X-valueforreferencepoint
All sections of a continuous beam should follow immediately the definition of the continous
beamwithoutdefiningavalueforNOorpredefinedwithaPROPdefinition. Butwithanexplicit
definition of a beam number it is possible to define sections for an already existing beam.
3.17.1 Special properties of beam sections
All sections can include additional information for controlling the processing of the sections
duringthedesignandthestaticanalysis. Ifneitherbendingnorcompressionmemberproperty
is selected, AQB will guess this information based on the orientation to the gravity direction
and other criteria given from the design codes.
Depending on the kind of support the design will be based on the forces at the face of the
support or the middle of the support. The most commonly used equations for the design of
rounded moments are based on the uniform pressure of the support force, as is the case for a
continuousbeam. Forexample,theroundedmomentabovethecolumnisgivenbythesupport
force A and the width a; or it is approximated by the half-sided shear force V and the distance
x = a/2 of the section before the middle of the column, as follows:
 
M = M − A · ≈ M − V ·
 st st
8 2
For the corners of a frame it is however recommended (cp. booklet 373 DAfStB) to design a
rounded moment at a distance of 0.2 a from the face, instead of the moment at the face. The
easiest and most straight forward method would be to generate an additional section at x= 0.3
a, where an approximation of the desired moment will be given.
M = M − 0.3 · V · 
 st
Formerly it was common use to define also a decisive shear cut in a greater distance from
the support. This shear cut was used for a linear reduction of the shear force. Foreseen that
this procedure is not mechanically consistent, the full shear force at the support edge is also
necessary for the check of the compressive stress. The input of an additional shear cut must
not be used anymore for checks according to the new design code generation.
3.17.2 Haunches and interpolation of sections
In general there will be an interpolation of sections for all defined sections after the definition
of the system with an AQUA INTE ALL, If a beam has a reference to a bridge axis, this will ve
doneforallsections. Ifthatisnotthecase,itwillbedoneforallsectionsnotexplicitlyspecified
based on the defined sections before and after. Thus it becomes important to distinguish
between the definition of a jump of a section and a smooth transition: If the section number
is not specified, the last defined section number before this section will be taken provisionally
and the section marked as to be interpolated. A run with AQUA and the definition INTE 0 will
SOFiSTiK2023 3-43SOFiMSHA|InputDescription
Figure3.21: Jumporsmoothtransitionofsection
thencreateallmissingsections. Ifthestartandendsectionofabeamsequenceoraneyplicit
singlebeamshouldbealsointerpolated,anexplicitdefinitionofthecorrespondingx-valuewith
SPEC I is required.
A jump of section has to be defined either by two sections with identical x-Values, which can
bedoneforasinglebeamonlywithinasequenceofsectionswithoutavalueforNOdefinedin
total. When using individual section definitions (with a value for NO) the two section numbers
may be specified with NS1.NS2. As it is not allowed to have more than two sections at the
samelocation,additionalentrieswillberemovedautomaticallywithawarning. Itisalsoavery
badideatodefinetwosectionswithaslightdifferenceinX,becausethehaunchcreatedbythat
has to transform forces to the new gravity center yielding very strange results for the design.
Anelementcreatedbythevariationalprinciplecannotcoverajumpofsectioncompletely,this
may lead to strange results for all loadings creating deformations (Prestress, Temperature)
‘
grp 1 titl " System to the left"'
beam mesh 11 12 ncs 1 div 10
bsec 0.1 ncs 1 no 1002 ; bsec 0.0 ncs 2 no 1003
bsec 0.1 ncs 2 no 1003 ; bsec 0.0 ncs 1 no 1004
bsec 0.1 ncs 1 no 1005 ; bsec 0.0 ncs 2 no 1006
bsec 0.1 ncs 2 no 1006 ; bsec 0.0 ncs 1 no 1007
‘
grp 2 titl " System to the right"'
beam mesh 21 22 ncs 1 div 10
bsec 0.1 ncs 2 no 2002
bsec 0.0 ncs 2 no 2007
Beam sections may be also defined without defining a value for NO after a BEAM PROP
record. Than these definitions will be applied to all following beam elements, not having an
explicitBSECdefinitionontheirown. IndependentlydefinedsectionswithabeamnumberNO
have no effect on this behaviour. A scaling of distances along the beam will not take place.
3.17.3 Element-Formulation
The properties of the variant beam elements in SOFiSTiK may be summarized as follows:
0 Analytical solution for a prismatic beam
Fastest approach but not suitable for general cases.
1 Element matrices are obtained by a variational approach (ASE, DYNA)
Thedisplacementsofthebeamarecubicparabolas. Theinversestiffnessisinterpo-
lated linearly between two sections. Inclination of center line and warping torsion is
accountedfor. Complexsectionmodelingshouldbeavoided,especiallyfortempera-
3-44 SOFiSTiK2023InputDescription|SOFiMSHA
ture loading.
2 Element matrices are obtained by analytical transfer matrices.(STAR2)
Stiffness is assumed with a constant mean value between two sections. There are
no limits on sections within a beam.
3 Element matrices obtained by numerical transfer matrices. (PILE)
The inverse stiffness is interpolated linear between two sections There are no limits
on sections within a beam.
SOFiSTiK2023 3-45SOFiMSHA|InputDescription
3.18 QUAD – Plane Elements (Disks / Plates / Shells)
Seealso: GRP
QUAD
Item Description Unit Default
NO Element number or mesh option − *!
N1 Number of node 1 − !
N2 Number of node 2 − !
N3 Number of node 3 − !
N4 Number of node 4 − -
MNO Element material number − *
MRF Material number for reinforcements − *
NRA Element Stiffness formulation − 7
POSI Element position w.r.t. the nodes LT CENT
CENT Element centred at nodes
ABOV Element above the nodes
BELO Element below the nodes
T Thickness t [mm] *
1010
T1 Thickness at node K1 [mm] T
1010
T2 Thickness at node K2 [mm] T
1010
T3 Thickness at node K3 [mm] T
1010
T4 Thickness at node K4 [mm] T
1010
(not for orthotropic plates)
(cid:2)kN/m3(cid:3)
C Bedding perpendicular to element -1
1097
(cid:2)kN/m3(cid:3)
CT Bedding tangentially within surface -1
1097
KR Orientation of local coordinates LT *
DRX direction − -
DRY − -
DRZ − -
DROT Additional rotation about local z-axis [◦] 0
5
TX Orthotropic thickness in local x-direction [mm] -
1010
TY Orthotropic thickness in local y-direction [mm] -
1010
TXY Orthotropic thickness for lateral bending [mm] -
1010
TD Orthotropic thickness for torsion [mm] -
1010
M Subdivison of edge N1-N2,N3-N4 − 1/0
N Subdivison of edge N2-N3,N4-N1 − 1/0
Tablecontinuedonnextpage.
3-46 SOFiSTiK2023InputDescription|SOFiMSHA
Item Description Unit Default
M12 Optional middle node of edge N1-N2 − -
M23 Optional middle node of edge N2-N3 − -
M34 Optional middle node of edge N3-N4 − -
M41 Optional middle node of edge N4-N1 − -
Figure3.22: QUADplaneelement
Theelementnumbermaybechosenarbitrarily. Ifnotspecifiedthenextfreenumberwithinthe
current group is selected. Duplicate numbers though are not allowed.
The element’s geometry is checked by the program for node numbering order, re-entrant cor-
ners. A side ratios smaller than 1 : 5 is not recommended in general.
Several element actions can be selected through the value of NRA. The addition of these
values results in a combined action. In general the input of this value is only sensible for
three-dimensional systems.
NRA = 0 = geometry only
1 = plate action
2 = membrane action
4 = in-plane rotation
The input of a negative value for C or CT represents a factor for the foundation coefficient of
the BMAT record, while a positive value determines an absolute foundation coefficient for this
element.
The orientation of the coordinate system is described in section 2. For three-dimensional
systems one of the local axes can be oriented towards a particular direction with respect to
the global coordinate axes; this can be of importance in the assessment of the results at the
nodes. The following can be defined as a reference orientation for KR:
POSX,POSY,POSZ local x in the positive global directions
NEGX,NEGY,NEGZ local x in the negative global directions
XY,YZ,ZX local x in positive global projected directions
YX,ZY,XZ local x in negative global projected directions
LOCX,LOCY local axis in explicit direction
SOFiSTiK2023 3-47SOFiMSHA|InputDescription
nodenumber align local x towards a node
An input for DROT defines an angle (in degrees), by which the default coordinate system is
rotated around the local z-axis.
WithPOSI=BELOtheelementsarearrangedeccentricallybelowthenodes. Thiscanbeuseful
in case of plates with joists, in order to model the T-beam action for elements with different
thicknesses. Theinputinsuchacaseisaseasyasthatforaregularplate,duetotheconstant
height level of the nodes lying at the upper edge of the plate. Because of the necessary axial
forceeffects,theanalysisofeccentricplatescanonlybedonewithSYSTSPACintheprogram
ASE.
Orthotropicthicknessisspecifiedaseffectivethicknessinthatdirection. Thenormalandbend-
ing stiffness is then calculated with those given thickness values. As an alternate definition it
ispossibletospecifya negative sectionnumber. ThentheareaandinertiaIy ofthatsectionis
normalized to 1m width and used as stiffness for the plate. Variable thicknesses in the nodes
T1throughtoT4cannotbeinputsimultaneouslywithanorthotropyviaTXtoTD. Bydefining
M and N or with a selective literal for NO the generation of a M x N structured block mesh
with curved edges and a variant thickness is possible by a COON’s interpolation between the
edges. For any edge a positive mid-node number selects a quadratic (isoparametric) interpo-
lation, while a negative value will use a circular geometry. A value of zero defines a straight
edge. All generated nodal coordinates are compared against already existent nodes and a
new node is created only if necessary. For more details see chapter NODE
NO Effect Default for KMij
MESH with new node numbers -
IMSH with interpolated node numbers IMSH
MMSH interpolated numbers in direction M FIT/IMSH
NMSH interpolated numbers in direction N FIT/IMSH
KMSH interpolated numbers along to edges IMSH
FIT use predefined edges FIT
FITL generate and use linearised edges FITL
IFIT use full Coon-Algorithm for numbers FIT
If a literal "‘:T"’ is appended, a pure triangular mesh may be created for special cases. The
QUAD-elements will be divided along the short diagonal, with "‘:T1"’ or "‘:T2"’ at the first or
second diagonal.
Mesh generation KMSH is a method taken from GENF, but does not really suit in the new
concepts of SOFIMSHA. By defining only three nodes N1 to N3 a first step will subdivide
(IMSH) or collect the nodes along that edges. Than these edges will be copied in parallel
along the nodes of the other edge to give an irregular but structured mesh. Numbers of nodes
are also fully structured. The corresponding variant with free node numbers would require two
TRAN commands before allowing the standard FIT option to be used.
With the input of the literal PROP for NO it is possible to define values, becoming default for
following records and especially for the Import. With the input for instance
3-48 SOFiSTiK2023InputDescription|SOFiMSHA
Figure3.23: MeshgenerationKMSH
QUAD PROP T 0.2 MNO 1
the element thickness is defined with 0.2 m and the material number with 1 for all following
QUAD records. The other possible inputs for the different thicknesses are set here with their
defaultduetotheinputforT.Hereitistonotethatanydefinitionofathicknessvaluewilltrigger
a completely new default. Thus:
QUAD PROP T 0.5 TX 0.3 TY 0.2 TXY 0.1 TD 0.1
QUAD NO 1 N1 1 N2 2 N3 3 N4 4 T 0.4
modification of the element thickness to 0.4 m and deactivating the default for the or-
thotropic thicknesses (= no orthotropy)
QUAD NO 2 N1 4 N2 3 N3 5 N4 6 T 0.4 TX 0.3 TY 0.2 TXY 0.1 TD 0.1
modification of the element thickness to 0.4 m and input of the orthotropic thicknesses
When defining after PROP (at item N1) an element number, all properties will be preset to
those of that element in the current import source data base (IMPO).
Figure3.24
QUAD FIT will create QUAD elements also for different subdivisions on all edges by up to six
internal quadrilateral subareas. One condition has to be met however:
SOFiSTiK2023 3-49SOFiMSHA|InputDescription
• The number of odd subdivisions must be even (0 or 2 or 4)
Figure3.25
For triangular areas a second condition has to be met:
• Thetriangularinequalityhastobefulfilled,i.e. foranypermutationofthethreesubdivisions
a, b and c the sum of two has to be at least as high as the third value (a+b≥c)
Figure3.26
Pure triangle meshes will be only created with QUAD MESH and specification of an explicit
division value for N.
Surface meshes on existing regular BRIC-structures may be created with the option QUAD
FITS. The use of this option is reserved for special cases.
3-50 SOFiSTiK2023InputDescription|SOFiMSHA
3.19 BRIC – Three-dimensional Solid Elements
Seealso: GRP
BRIC
Item Description Unit Default
NO Element number −/LT !
N1 Number of node 1 − !
N2 Number of node 2 − !
N3 Number of node 3 − !
N4 Number of node 4 − !
N5 Number of node 5 − !
N6 Number of node 6 − !
N7 Number of node 7 − !
N8 Number of node 8 − !
MNO Material number of the element − 1
M Subdivision of edge N1-N2,N3-N4 − 1
N Subdivision of edge N2-N3,N4-N1 − 1
K Subdivision of edge N1-N5 etc − 1
M12 optional middle node of edge N1-N2 − -
M23 optional middle node of edge N2-N3 − -
M34 optional middle node of edge N3-N4 − -
M41 optional middle node of edge N4-N1 − -
M56 optional middle node of edge N5-N6 − -
M67 optional middle node of edge N6-N7 − -
M78 optional middle node of edge N7-N8 − -
M85 optional middle node of edge N8-N5 − -
M15 optional middle node of edge N1-N5 − -
M26 optional middle node of edge N2-N6 − -
M37 optional middle node of edge N3-N7 − -
M48 optional middle node of edge N4-N8 − -
Theelementnumbermaybechosenarbitrarily. Ifnotspecifiedthenextfreenumberwithinthe
current group is selected. Duplicate numbers though are not allowed.
A tetrahedron element may be specified with N4=0, the nodes N1 to N3 describe then a
counter-clockwise base plane and N5 the fourth point above. As the hexahedron element
has a much higher precision even for distorted elements with coinciding nodes, the tetraeder
element should be used only in rare conditions like automatic meshing. The geometry of the
six sides of the element are checked by the program, as is the case for QUAD-elements.
SOFiSTiK2023 3-51SOFiMSHA|InputDescription
Figure3.27: BRICsolidelement
If a literal is specified for NO the generation of a structured block with M x N x K elements
is generated with free or newly generated nodes along the edges, as for QUAD a mesh with
curved surfaces is possible by a COON’s Interpolation between the edges. For any edge a
positive number selects a quadratic interpolation, while a negative value will use a circular
geometry, a 0 is a straight line and FIT will search a defined nodal sequence, FITL will gener-
ated lienarized sequences. Any edge may have its own settings to establish the list. For more
details see chapter NODE.
NO Effect Default for KMij
MESH with new node numbers -
IMSH with interpolated node numbers IMSH
MMSH interpolated numbers in direction M FIT/IMSH
NMSH interpolated numbers in direction N FIT/IMSH
KMSH interpolated numbers in direction K FIT/IMSH
FIT use predefined edges FIT
FITL generate and use linearised edges FITL
IFIT use Coon-Algorithm for numbers FIT
FITQ Interpolate QUAD-area definitions
FITS Interpolate BRIC surface definitions
If a FIT is used, the sub division of corresponding edges must match of course. The algorithm
creates surfaces in a first step, allowing to interpolate non regular subdivided areas.
If a literal "‘:T"’ is appended, pentahedra with a triangular face may be created for special
cases.
With the input of the literal PROP for NO it is possible to define values, becoming default for
following records and especially for the Import. With the input for instance
BRIC PROP MNO 1
the material number is defined with 1 for all following BRIC records.
When defining after PROP (at item N1) an element number, all properties will be preset to
those of that element in the current import source data base (IMPO).
3-52 SOFiSTiK2023InputDescription|SOFiMSHA
Figure3.28: Coons-Patchofadoublecurvedbody
Figure3.29: Coons-Patchwithanonregularbasesurface
SOFiSTiK2023 3-53SOFiMSHA|InputDescription
3.20 SPRI – Spring Elements
Seealso: BOUN,FLEX,GRP
SPRI
Item Description Unit Default
NO Spring number − !
PROP Define defaults
MESH Generation of elements
IMSH Generation of elements
FIT Fitting of elements
FITL Fitting of elements
QGRP Coupling of areas
QREF Coupling of areas
SBOX Springs for nodes within SBOX
QBOX Springs for QUADs within SBOX
NA Number of node where the spring acts − !
NE Number of a second node − -
AUTO create node automatically
DX explicit X-component of direction m/LT 0
DY explicit Y-component of direction m 0
DZ explicit Z-component of direction m 0
(cid:2)kN/m3(cid:3)
CP Axial spring constant 0
*
(cid:2)kN/m3(cid:3)
CT Lateral spring constant 0
*
CM Rotational spring constant [kN/rd/m] 0
*
(cid:2)kN/m2(cid:3)
PRE Prestressing 0
GAP Spring gap (slip) [m] 0
1001
(cid:2)kN/m2(cid:3)
CRAC Rupture stress -
(cid:2)kN/m2(cid:3)
YIEL Yield stress -
YIEL<0 only in compression
YIEL>0 tension and compression
MUE Friction coefficient for the lateral spring − -
(cid:2)kN/m2(cid:3)
COH Cohesion value for the lateral spring 0
DIL Dilatation value for the lateral spring − -
GAPT Spring gap (slip) of transverse spring [m] 0
1001
(cid:2)kNsec/m3(cid:3)
DP Damping in axial direction 0.
(cid:2)kNsec/m3(cid:3)
DT Damping in lateral direction 0.
(cid:2)kNsec/m2(cid:3)
DM Damping moment about the axis 0.
Tablecontinuedonnextpage.
3-54 SOFiSTiK2023InputDescription|SOFiMSHA
Item Description Unit Default
EXPP Exponent for non-linear damping DPepp − 1.0
EXPT Exponent for non-linear damping DTept − 1.0
EXPM Exponent for non-linear damping DMepm − 1.0
MNO Number of stress-strain curve / material − -
AR Reference area [∗] 1.0
DIV Subdivision in Elements − -
NM optional Midpoint Control Node − -
NARE Start node of reference edge − -
NERE End node of reference edge − -
NMRE optional midpoint node of reference edge − -
KR Direction data of moment-axis or LT/− 0
DRX − *
DRY Explicit direction of moment-axis − *
DRZ − *
DROT Additional rotation about spring axis [◦] 0
5
(cid:2)kNm/m2(cid:3)
MPRE Prestress moment 0
MGAP rotational spring gap (slip) [rd] 0
*
(cid:2)kNm/m2(cid:3)
MCRA rotational failure moment -
*
(cid:2)kNm/m2(cid:3)
MYIE yield moment -
DXSQ explicite search direction [m] 0
1001
DYSQ for QGRP [m] 0
1001
DZSQ [m] 0
1001
This record defines elastic support in points, along edges or in areas. All Values are thus
referred to an area AR, which may have different units. The default is always 1.0, thus a
definition of a single spring constant in [ kN/m] will yield the expected result. The generated
elements however will always have values based on a single point.
NA
NE
Figure3.30: Springelement
SOFiSTiK2023 3-55SOFiMSHA|InputDescription
NO specified AR Calculated dimension
numerical / SBOX Area of support [m2] 1.0
MESH / IMSH width of support [m] Length of support
FIT / FITL
QGRP / QREF / QBOX 1.0 [-] Area of QUAD elements
Springs can be defined as support conditions or as coupling springs between two nodes. The
secondnodenumbermustnotbeinputinthefirstcase. Ifelementsshouldbegeneratedalong
a sequence of nodes between NA and NE, the literals MESH / IMSH or FIT / FITL have to be
specified at NO. The optional second nodes of the springs may then be defined with items
NARE and NERE. For axis symmetric systems the value of AR is preset with the current
radius of every node, which can be suppressed with AR = 0.0 to suppress this feature. A
support with an explicit work law does not allow a reference area.
ForNOitisalsopossibletoselecttheliteralQGRP,QREForQBOX,thiswillgeneratesprings
for all nodes of the QUAD elements of group or Region number NA or within the SBOX, in-
tegrating the influence areas. The second node will be created within the QUAD elements of
group NE, if that value is specified. The value CTRL SNAP defines a threshold for the QUAD
shape function, where nodes exceeding that value will be collapsed to the adjacent QUAD
element node.
With the input of the literal PROP for NO it is possible to define values, becoming default for
following records and especially for the Import. With the input for instance
SPRI NO PROP CRAC 0
the spring failure load is defined with 0 for all following SPRI records.
When defining after PROP (at item NA) an element number, all properties will be preset to
those of that element in the current import source data base (IMPO).
With the input of the literal SBOX for NO, all nodes within the defined SBOX will get a spring
of the specified type. With QBOX all QUAD elements with the centre within the SBOX will be
used to calculate the influence surface.
It is possible to specify for DX the literals +R or -R. This will align the element into a radial
direction to the node specified with following item (DY). With a FIT NM < 0 (circular arc) this
point may be omitted, the center of the arc will be taken instead as orientation point. For the
area definitions QGRP, QREF and QBOX it is also possible to define the literals LOCX, LOCY,
LOCZ,aligningthespringdirectioninthemeandirectionsofthelocalcoordinatesystemofthe
generating QUAD elements.
3.20.1 Spring element
The spring is defined by means of a principal direction (DX,DY,DZ) and two spring constants.
The acting forces or deformations are then split up into a component for the principal direction
andaremainderorlateralcomponentperpendiculartotheprincipalone. Thespringconstants
CP and CT are assigned to the principal and the lateral direction, respectively. Two lateral
springs perpendicular to each other with the same spring constants are likely to be assigned
3-56 SOFiSTiK2023InputDescription|SOFiMSHA
in this manner. Since the directions of these springs can be freely selected, one can speak of
an isotropic lateral spring stiffness. The total spring force has the following form:
(cid:12) (cid:12) (cid:12) (cid:12) (cid:12) (cid:12)
(cid:12)PX(cid:12) (cid:12)DX(cid:12) (cid:12)PTX(cid:12)
(cid:12) (cid:12) (cid:12) (cid:12) (cid:12) (cid:12)
P = (cid:12) (cid:12)PY(cid:12) = (cid:12) (cid:12)DY(cid:12) · PH + (cid:12) (cid:12)PTY(cid:12)
(cid:12) (cid:12) (cid:12)
(cid:12) (cid:12) (cid:12) (cid:12) (cid:12) (cid:12)
(cid:12) (cid:12) (cid:12) (cid:12) (cid:12) (cid:12)
(cid:12)PZ(cid:12) (cid:12)DZ(cid:12) (cid:12)PTZ(cid:12)
PT = (PTX2 + PTY2 + PTZ2)1/2
Attention: A spring connecting two separated nodes without a transverse spring constant
mayviolatetheglobalequilibriumofmoments. Therewillbeawarningifthepossibilityofsuch
a mechanism is encountered, i.e. the acting direction is not aligned with the distance between
the nodes.
Withatransversespringconstantwehaveinsuchcasesanadditionaltransversedisplacement
created by the sum of the rotations in the nodes. However this establishes the need to define
a rotational stiffness, constraint or support for the nodes of the spring.
The values of PH and PT affect the various combined non-linear effects. In the general three-
dimensional case the lateral force can only be input as components or as an amount PT.
If one wants to definedifferent lateral spring stiffness, one shoulddefine two or three separate
principalsprings. SincetheinputparameterCMusuallydoesnotcorrespondwithCP,concern-
ing the direction of action or regarding the non-linear effects, it is likely that only in the most
rare cases it can be defined in conjunction with a displacement spring. As a rule therefore,
separate rotational springs (CP=CT=0.0) should be defined.
The direction of coupling springs is obtained from the difference of the two nodes (NE-NA). If
the nodes coincide or in the case of support springs, the direction must be input explicitly. The
method for choosing the signs for DX, DY and DZ, which are important for non-linear analysis
(compression or tension?), is to imagine that the second node is offset from the first by this
amount.
If a spring has force components (CP,CT) and moment components (CM) it is possible to
define the direction of the rotational spring with items KR to DROT analogue to the BEAM
definition perpendicular to the main force direction. Without a specification the direction of
both components will be the same. This feature may be also used to evaluate rotations of the
bearings of a bridge, where CM may be defined as 0.0.
Hint for DRX, DRY, DRZ:
Due to reasons of consistency of the displacement spring a rotation about the definition
direction generates ’compression’ in the spring - that means therefore a negative spring
displacement and a negative moment.
WithPREaprestressmaybedefined. Thespring,initsinitialpositionatrest,alreadyexertsa
force in its direction upon the node. A prestress for the lateral spring is not defined.
When a dilatation value is defined, a displacement in the lateral direction will generate a com-
ponentintheaxialdirectionDIL·u-t. Non-lineareffectsarecontrolledwithCRAC,GAP,YIEL,
SOFiSTiK2023 3-57SOFiMSHA|InputDescription
MUE and COH:
Prestress:
The failure and yield loads are shifted by the amount of the prestress.
Gap:
Thespringtransmitsforcesalongitsaxisonlyafteritsdeformationhasexceededthegap.
Failure load:
Upon reaching the failure load the spring fails in both the axial and the lateral direction.
The failure load is always a tensile force or a positive moment.
Yield load:
Upon reaching the yield load, the deformation component of the spring increases in its
direction, without a corresponding increase of the spring force.
Friction coefficient:
Ifafrictioncoefficientand/oracohesionareinput,thelateralspringcannotsustainforces
greater than:
Friction_coeff. · Compressive_force + Cohesion
Figure3.31: Springcharacteristiccurves
The non-linear effects can only be taken into account by a non-linear analysis (e.g.
STAR2/TALPA/ASE/DYNA). The friction and cohesion are effects of the lateral spring, while
all other effects act upon the axial spring (CP or CM). For now a combination of nonlinear
effects for the forces and moments is not allowed.
Instead of these simple non-linear effects you may also assign a general work law MNO to a
spring element. If MNO is definedtogether with theinfluence area AR, thenthe material MNO
is used instead of the work law to create the spring constants from the bedding values:
CP := Cb · AR [kN/m=kN/m2 · m2/m]
CQ := Cq · AR
This value AR=A/L will also be used independent of MNO by HYDRA for the conversion of
thermal or hydraulic conductivities.
TheinputofanegativevalueforAR(alsowithoutMNO)willselectaninversespringdefinition.
Then the non-linear properties are defined inversely, i.e. the force in the axial direction will
notbecomegreaterthanCOH+MUE·thevectorlengthofthecombinedtransverseforce,which
will not become greater than YIEL. This is useful for the description of anchors and piles in
soil mechanics. ATTENTION: The above effects and the dilatation are new and will be
3-58 SOFiSTiK2023InputDescription|SOFiMSHA
graduallyimplementedinthevariousmodules. PleasereadtherelevantLog-filesforthelatest
information on the modules.
3.20.2 Special hints:
More complicated stress-strain curves can be generated by combining several non-linear
springs in parallel or in series. A change of the direction component signs can be very helpful
in this context. These signs have an effect on the sign of the spring force.
Negative spring constants can be used for the modeling of appended articulated columns
accordingto2nd ordertheoryorforsimilareffects. Inthesecasesattentionshouldbegivento
the correct consideration of the load safety factor.
In the case of non-linear analysis additional springs with small spring constants can possibly
simplify the convergence or even enable it in the first place.
The prestress acts in all the load cases and it can therefore in general not be used for load
super-positioning in the program MAXIMA.
Support displacements or rotations can be described by defining a spring of stiffness 1E20
and a loading equal to displacement times 1E20. This technique avoids the rebuilding of the
equation system for each particular load case.
3.20.3 Damper
Adampingelementisonlyeffectivefordynamicanalysis. AllRemarksforthespringsconcern-
ing directions and influence width or areas hold as well for the dampers.
Figure3.32: Dampingelement
BydefiningMNOandtheinfluenceareaARitispossibletopresetthedampingvaluesDPand
DT for a radiation boundary for compressive and shear waves of material MNO:
DP := (cid:112)(ρ·K)·AR [kN·sec/m=(cid:198) (kN·sec2/m/m3·kN/m2)·m2]
(cid:112)(ρ·G)·AR
DT :=
Non-linear damping may be used within DYNA and ASE. When defining those exponents it
is very important to follow the correct set of units (m and sec), as the law is then no more
SOFiSTiK2023 3-59SOFiMSHA|InputDescription
independent of the selected units.
P=D·νep
Non-linear effects are calculated based on the sum of spring and damper force.
3-60 SOFiSTiK2023InputDescription|SOFiMSHA
3.21 BOUN – Distributed Support
Seealso: SPRI,FLEX,GRP,NODE
BOUN
Item Description Unit Default
NA Starting node or element number − !
NE End node number − !
NM Increment of numbers or Literal FIT / FITL −/LT *
TYPE Direction of support LT !
CX in global X-direction
CY in global Y-direction
CZ in global Z-direction
CN in longitudinal direction
CT in both transverse directions
DX Rotation about global X
DY Rotation about global Y
DZ Rotation about global Z
DN Rotation about longitudinal
DT Rotation about both transverse directions
MNNN Material number for SBFEM
CA Bedding constants at the beginning [∗] !
*
CE Bedding constants at the end [∗] CA
*
REF Axis for the increase if CA (cid:54)= CE LT *
XX global X-axis
YY global Y-axis
ZZ global Z-axis
RX Support direction N in global coordinates − *
RY if direction deviates from the difference − *
RZ between the nodes. − *
DIV Equal partitioning of edge segment − -
PROG Geometric progressions of created nodes − -
TITL Boundary element designation LT24 -
Thisrecordisusedforthedescriptionofboundaryelements(Postprocessingorelasticsupport
conditions)AboundaryelementconsistsofaninitialrecordthatallowstheinputonlyforNA(=
elementnumberNO)andTITL,followedbyanynumberofrecordsthatdescribethesegments
of the boundary. In general rule, the first node number of a new record must coincide with the
last number of the previous record.
SOFIMSHC resp. SOFiPLUS will generate a boundary element for every structural line with a
group number.
SOFiSTiK2023 3-61SOFiMSHA|InputDescription
ThesegmentsoftheelementarealwaysspecifiedbyastartnodeNAandanendnodeNE,to
select the intermediate nodes we may use for KM:
• a number describing an increment
• Literal FIT or FITL to use a nodal sequence. (NODE)
Hint:
Theboundaryelementhasbeenusedinthepasttogeneratenodalfits,olddefinitionswiththe
now obsoleted items DIV and PROG before TITL will be still processed.
Example:
BOUN 1001 TITL 'WALL ALONG AXIS K-K'
BOUN 1 10 1 CZ 3.2E5
10 90 10 ==
90 95 1 ==
Figure3.33: BOUNboundaryelement
In three-dimensional systems the direction T of the boundary is not uniquely defined. The
programthereforeintroducessupportsintwodirectionsoftheboundaryperpendiculartoeach
other. Thiscorrespondstoauniformsupportinalldirectionsperpendiculartothelineconnect-
ing the nodes.
Ifonewishestohaveonlyoneofthedirectionselasticallysupported,onecanselectthedirec-
tion N, and define the desired direction by means of RX, RY and RZ.
Elastic foundation
The unit of the bedding depends on the selected type: (cid:2)kN/m2(cid:3) or [kNm/rd/m] . The
1096 1099
boundaryelementadherestotheWinklerassumption. Itsimplifiesthedefinitionofelasticsup-
ports in any direction independently of the employed elements. The formulation of the Winkler
assumption is an engineering trick which, among other things, ignores the shear deformations
of the supporting medium. The determination of a reasonable value for the foundation modu-
lus often presents considerable difficulty, because this value depends not only on the material
parameters but on the geometry and the loading as well. One must always keep this in mind,
when assessing the accuracy of the results of an analysis using this theory.
The BOUN-element considers the continuous foundation through a spring matrix, which is the
result of an energy inspection, when the displacements between two nodes are linearly inter-
polated(infinitelyrigidloaddistributionbeamswithhingesatthenodes). Thisisacompromise
between a support with single springs and an exact solution of the differential equation. Thus
a static connection is only possible at the nodes of the system. Therefore, a FE-typical parti-
tioning of the system must be chosen.
3-62 SOFiSTiK2023InputDescription|SOFiMSHA
foundation on dis-
foundation on individ-
continuous foundation tributed elastic sup-
ual springs
port elements
Modules for elastic founded beams
Figure3.34: Foundationmodels
ThisformulationisfullycompatiblewiththeQUADandBRICelements,meaningthatthereare
no gaps between element and foundation.
Only the single springs are available for non-linear effects. For these springs the width be-
tweenthenodescanbedeterminedautomaticallybySOFiMSHA,whenoneusestheelement
generator along with a Winkler coefficient.
A small gap results in the case of beam elements due to the cubic formulation of the displace-
ments, but it is usually insignificant. More serious is that the loads only act at the nodes. Thus
the following occurs between two beam nodes:
1. The distribution of shear forces due to the foundation is constant.
The value is correct for the middle of the beam, but it lacks some components at the
edges, which are equal to half the beam length times the foundation base stress.
2. The moment distribution due to the foundation is linear.
3. Beam loads generate a garland-shaped moment distribution.
The appropriate loading are nodal loads.
This is why it is suggested, at least for the boundary region, to make the boundary and the
beam element lengths approximately double the distance of the shear section from the sup-
port. Fornumericalreasons,however,thebeamelementsshouldnotbecomeshorterthanthe
height of the cross section.
Animportantupperlimitforthelengthoftheboundaryelementresultsfromthestiffnessofthe
supported structure. For elastically supported beams, this is described by the characteristic
length L.
(cid:118)
(cid:117)(cid:18)4 · E(cid:19)
L = (cid:116)4
c · b
The solution for the displacement due to concentrated loads is a wave, which always has a
zero crossing at distance L. In order for the boundary element to be able to approximate this,
its segments must be smaller than one quarter of that length.
Whenthisisnotadheredto,theboundaryelementtriestorepresentthisdistributionthrougha
SOFiSTiK2023 3-63SOFiMSHA|InputDescription
wildoscillation. Theseresultsarethusseverelydisturbed. Ifthestructure’sstiffnessiszero,the
characteristic length is zero as well, and the boundary element can not be used for individual
loads at all.
Comparative analysis have shown, that an elastically supported beam is significantly better
approximated by boundary elements with a continuous foundation than by single springs.
IftheelasticcoefficientsCAandCEaredifferent,itisnecessarytospecifyifthelinearvariation
between those two values should be performed along the real length (default) or along one of
the global coordinate axis by specification of the appropriate value for REF.
3-64 SOFiSTiK2023InputDescription|SOFiMSHA
3.22 ADDM – General Matrix Element
Seealso: BOUN,SPRI,FLEX,GRP
ADDM
Item Description Unit Default
NO Element number − !
TYP Element type LT !
FLEX Flexibility matrix
STIF Stiffness matrix
DAMP Damping matrix
MASS Mass matrix
PER Period for impedance sec -
NO1 node number 1 − !
NO2 node number 2 − -
P Component of force or moment LT !
PX Force [kN]
1151
PY Force [kN]
1151
PZ Force [kN]
1151
MX Moment [kNm]
1152
MY Moment [kNm]
1152
MZ Moment [kNm]
1152
MB Bimoment [kNm2]
1105
UX Value for displacement direction u-x ∗ 0
UY Value for displacement direction u-y ∗ 0
UZ Value for displacement direction u-z ∗ 0
UXX Value for rotational direction u-xx ∗ 0
UYY Value for rotational direction u-yy ∗ 0
UZZ Value for rotational direction u-zz ∗ 0
UW Value for distortion u-w ∗ 0
ADDM can be used for the input of any element matrices or supports (e.g. pile trestle) with up
to six nodes. Larger matrices may be defined via sub-matrices. An element or sub-element
consists of several FLEX records with the same element number. There is no need to define
symmetric or zero entries. The following variants exist:
1. Flexibility matrix (NO2=0)
Foreachunitloadwithdirection’P’,thedisplacementsareinputasaffectedcomponents.
The unit of the unit load is defined by the implicit unit SUPP_POINT, SUPP_MOMENT
or BEAM_BIMOMENT and cannot be selected otherwise. The values UX to UW thus are
deformations,buthavetobescaledfortheunitoftheunitload. Componentswithdiagonal
terms0arenotprocessed,rigidsupportsmustbedefinedbymeansofnodalconstraints.
2. Stiffness matrix
SOFiSTiK2023 3-65SOFiMSHA|InputDescription
In each line one row or one column of the sub-matrix of the nodes NO1-NO2 is defined.
The unit of the values is now defined by the selection of the literal P, but the values
have to be scaled for each column according the deformations GEO_DEFORMATION,
GEO_ROTATION or GEO_DISTORTION. No check is made for whether the matrix is
”positive definite”.
3. Damping matrix
In each line one row or one column of the sub-matrix of the nodes NO1-NO2 is defined.
The unit of the values is now defined by the selection of the literal P, but the values
have to be scaled for each column according the velocities VELOCITY, A_VELOCITY
or W_VELOCITY.
4. Mass matrix
In each line one row or one column of the sub-matrix of the nodes NO1-NO2 is de-
fined. The unit of the values is now defined by the selection of the literal P, but the
values have to be scaled for each column according the accelerations ACCELERATION,
A_ACCELERATION or W_ACCELERATION.
Frequency dependant matrices (Impedance) are not yet processed.
3-66 SOFiSTiK2023InputDescription|SOFiMSHA
3.23 FLEX – General Elastic Element
Seealso: ADDM,BOUN,SPRI,GRP
FLEX
Item Description Unit Default
NO Element number − !
NO1 Node number 1 − !
NO2 Node number 2 − 0
P Loading direction LT !
PX Force kN
PY Force kN
PZ Force kN
MX Moment kNm
MY Moment kNm
MZ Moment kNm
MB Bimoment kNm2
UX Displacement due to unit load [mm] 0
1003
UY [mm] 0
1003
UZ [mm] 0
1003
UXX Rotation due to unit load [mrd] 0
1004
UYY [mrd] 0
1004
UZZ [mrd] 0
1004
UW Warping [1/km] 0
1005
FLEX can be used for the input of general elastic supports (e.g. pile trestle) for a single node.
An element or sub-element consists of several FLEX records with the same element number,
where for each unit load ’P’ (in fixed units kn and m ), the displacements are input as affected
components. Components with diagonal terms 0 are not processed, and rigid supports must
be defined by means of nodal constraints.
General stiffness, mass or damping matrices may be defined with record ADDM.
However there is still an obsoleted option to define a stiffness matrix with FLEX: By defining
NR2 with a second node number, the values for an explicit row or column of the submatrix of
node NR1-NR2 may be defined as stiffness valkues in (kN,m) or a matching explicit unit for
every single item. A check for ”positive definite” is not performed.
SOFiSTiK2023 3-67SOFiMSHA|InputDescription
3.24 MASS – Concentrated Masses
MASS
Item Description Unit Default
NO Node number or Literal FIT / FITL −/LT 1
MX Translatoric mass [∗] 0.
*
MY (Hint for dimensions see below) [∗] MX
*
MZ [∗] MX
*
MXX Rotational mass [∗] 0.
*
MYY (Hint for dimensions see below) [∗] 0.
*
MZZ [∗] 0.
*
MXY [∗] 0.
*
MXZ [∗] 0.
*
MYZ [∗] 0.
*
(cid:2)tm4(cid:3)
MB Warping mass 0.
REF Reference and persistence of the masses LT GLOB
TEMP Temporary global mass
GLOB Global coordinate system
LOCA Local coordinate system
LC Load case from the CDB (see IMPO) − !
PRZ Percentage of permanent load for mass LT/− 100
PSI0,PSI1,PSI2 (= combination value)
SELE Selection of a load and load direction LT PG
PG Nodal loading in gravity direction
PGB Beam loading in gravity direction
... see remarks
NA Start node for FIT − -
NE End node for FIT − -
Massesaremainlyusedindynamicanalysis. Themassesdefinedherewillhaveassignedthe
current group number. The unit of masses is for single masses [t] 1180resp.[tm2] 1182 and for
distributed masses [t/m] 1181resp [tm2/m] 1183.
Temporary masses may be also created by ASE and DYNA, old values will automatically
deleted with a redefinition. Persistent masses will be accumulated with a restart, but may
be deleted with a MASS DEL command.
Atranslatoricmassusuallyactsequallyinallthreecoordinatedirections,theyshouldtherefore
be input for all three directions. Rotational masses however have a clear rotation axis and if
3-68 SOFiSTiK2023InputDescription|SOFiMSHA
this axis is inclined we get off diagonal terms for the mass matrix, which can be used only for
a fully consistent mass matrix.
For dynamic analysis the self-weight of the entire structure is always converted to masses. If
this is not intended, the user has to define the self-weights of the materials as zero. Additional
masses defined with MASS will also trigger additional loads for automatic self-weight loading
of statical load cases unless defined as REF TEMP.
ForthecorrectEigenvaluesitisgenerallynecessarytoaddmassesfromvariableloading. Itis
recommended to define them based on static load cases within ASE / DYNA with their MASS
command or with SOFiMSHA and a restart as additional masses. It is possible to convert
nodal loads from any load case to mass entries with a given percentage of the loading. The
most useful default is given by the quasi permanent combination value ψ 2. The definition of a
literal for PRZ will select the combination value from the imported load case, or if this value is
pointing to the action, the value of the action of the main project is taken as factor.
SELE defines a Filter on the loads to be converted. Other valid literals are: PXX, PYY, PZZ
for nodal loads; PXXB, PYYB, PZZB for beam loads in global directions; PXB, PYB, PZB for
beam loads in local directions. For nodal loads, all generated loads from other element load
definitions will be included, if the load case has been analyzed before. For PG and PGB only
those loads acting really in the direction of gravity will be converted. For beam loads, the
defined excentricities will be squared to establish the rotational inertia for the torsion using the
optional factor MXX.
For special cases it is possible to define explicit further factors via entries MX to MB with the
unit [-]. If no unit is defined, the factor is taken as it is, but then the user has to take care of a
correctSI-transformationfactorfromloadstomassesorevenrotationalmasses. Averyspecial
caseisthegenerationofnegativemassestoaccountforholes. Thismaybeaccomplishedwith
the Literal PGS or PGSB for SELE.
For a FIT all masses are defined per length of the Fit, thus in [t/m] or [tm2/m]. For axis
symmetricsystemsvaluesareusuallydefinedperarclength: Massesarein [t/m] or [tm2/m],
distributedMassesin[t/m2] or[tm2/m2]. Toobtainthesamedimensionsthegivenvalueswill
therefore be multiplied with the radius.
SOFiSTiK2023 3-69SOFiMSHA|InputDescription
3.25 SBOX – Special selections
Seealso: DEL,MOD,TRAN,MIRR
SBOX
Item Description Unit Default
A1X First axis of selection [m] *
1001
A1Y from point (A1X,A1Y,A1Z) [m] *
1001
A1Z to point (B1X,B1Y,B1Z) [m] *
1001
B1X or: GPT nnn for the node nnn [m] *
1001
B1Y [m] *
1001
B1Z [m] *.
1001
A2X Second axis of selection [m] *
1001
A2Y from point (A2X,A2Y,A2Z) [m] *
1001
A2Z to point (B2X,B2Y,B2Z) [m] *
1001
B2X or: GPT nnn for the node nnn [m] *
1001
B2Y [m] *
1001
B2Z [m] *.
1001
A3X Third axis of selection [m] *
1001
A3Y from point (A3X,A3Y,A3Z) [m] *
1001
A3Z to point (B3X,B3Y,B3Z) [m] *
1001
B3X or: GPT nnn for the node nnn [m] *
1001
B3Y [m] *
1001
B3Z [m] *.
1001
R optional radius [m] -
1001
T optional thickness [m] -
1001
OPT Selectional option for secondary groups LT OR
AND must be in all SBOX
OR must be in at least one SBOX
NOT must not be in that SBOX
POL Polygon definition
PAND Polygon with Option AND
POR Polygon with Option OR
PNOT Polygon with Option NOT
WithSBOXitispossibletodefineageometricalselectionforsecondarygroupsorthefollowing
commands DEL, MOD, TRAN or MIRR :
• A rectangular bric with minimum and maximum coordinates (A1X-B1Z)
3-70 SOFiSTiK2023InputDescription|SOFiMSHA
• A sphere via definition of R and the centre (A1X, A1Y, A1Z)
• A cylinder via definition of radius R and the first axis (A1X to B1Z)
• A general parallelepiped (spar) defined by three independent axis:
B3
B2
A1
B1
A2
A3
Figure3.35: Ageneralparallelepiped(spar)
• A skewed plane defined by the first and second axis (A1X to B2Z) and the thickness T
perpendicular to the plane.
• A plane polygon with a constant thickness, described by multiple records with OPT POL,
each having up to 10 coordinates (further items are A4X to B5Z) with the same thickness
and a final SBOX record with a different OPT.
If no values are defined, the current selection will be deleted. If no radius is defined the three
axiswillbepredefinedwiththeextremevaluesforthethreeglobalcoordinatedirections,where
the third axis is always the gravity direction for spatial systems and the z-axis for planar sys-
tems. These defaults allows a very easy definition of a vertical wall by only two points (A1,B1)
and a thickness.
For SBOX all coordinates may be defined also with GPT nnn as those of node nnn. Unless
statedotherwise,fortheselectionofelementsitisrequiredthatallnodeshavetobeinsidethe
SBOX to flag the element to be inside the SBOX.
MultipleSBOXdefinitionswillbeaccumulatedwithlogicaloperations. Theremainactiveuntila
redefinition after an application of the SBOX with DEL, MOD, TRAN or MIRR. If the definitions
should be deleted only, an empty record SBOX will do the job.
Examples:
SBOX A1Y 0.0 B1Y 10.0 T 0.1 $ along a line
SBOX 1.50 1.50 0.00 $$ Polygon in one record
8.50 1.50 0.00 $$
8.50 7.00 0.00 $$
1.50 7.00 0.00 OPT PAND
TRAN application of the first two SBOX Definitions
SBOX 0.0 0.00 0.00 OPT POL $ in multiple records
0.0 10.00 0.00 OPT POL
0.0 10.00 8.00 OPT POL
0.0 0.00 8.00 OPT PAND
TRAN application of the third SBOX Definition
SOFiSTiK2023 3-71SOFiMSHA|InputDescription
3.26 DEL – Delete Elements
Seealso: MOD,TRAN,MIRR,SBOX
DEL
Item Description Unit Default
TYPE Type to be deleted: LT !
FROM First number − 1
TO Last number − *
INC Increment of selection numbers or GRP −/LT 1
XMIN A selection box [m] *
1001
YMIN Only elements which lie entirely inside [m] *
1001
ZMIN this box will be deleted. [m] *
1001
XMAX [m] *
1001
YMAX [m] *
1001
ZMAX [m] *.
1001
With DEL it is possible to delete existing elements at the end of the program run. Nodes
however may not be deleted.
The following types are possible:
KINE Kinematic Constraints of nodes
BEAM Beam elements
TRUS Truss elements
CABL Cable elements
SPRI Spring elements
QUAD Shell elements
BRIC Volume elements
As a DEL sets only markers, which are processed at the end of the program run, the deleted
elements remain active until then and will be active during all processing steps (e.g. TRAN).
Even for a selection using a window or a SBOX, DEL sets only markers on the element num-
bers. Thustheusagefordynamicgroupswithanegativegroupdivisorisseverelyrestricted. In
all those cases, where these limitations become relevant, a definition with several blocks and
a SYST REST has to be used.
The element selection and definition of a selective box is done as described in record TRAN.
3-72 SOFiSTiK2023InputDescription|SOFiMSHA
3.27 MOD – Modify
Seealso: DEL,TRAN,MIRR,SBOX
MOD
Item Description Unit Default
TYPE Type to be modified: LT !
FROM First number − 1
TO Last number − *
INC Increment of selection numbers or GRP −/LT 1
XMIN A selection box [m] *
1001
YMIN Only elements having their centre within [m] *
1001
ZMIN that BOX will be modified [m] *
1001
XMAX Further more general geometric selections [m] *
1001
YMAX may be defined with record [m] *
1001
ZMAX SBOX beforehand. [m] *.
1001
FIX Support Condition Lt -
With MOD it is possible to change the support conditions of nodes or the properties of exist-
ing elements. The properties of the elements selected will be modified according to the last
element record with property attribute PROP.
However for nodes only support conditions may be added with FIX. Compared with a direct
definitionwithrecordNODE,thebenefitsofMODaremainlytheprovisionofgeometricattribute
volumes.
The following types are possible:
NODE support conditions for nodes
BEAM Beam elements
TRUS Truss elements
CABL Cable elements
SPRI Spring elements
QUAD Shell elements
BRIC Volume elements
With following input for example the element thickness is modified to 22 cm only for the QUAD
elements No. 1 till 155:
QUAD PROP T 0.22
MOD QUAD FROM 1 TO 155
The element selection and definition of a selective box is done as described in record TRAN.
SOFiSTiK2023 3-73SOFiMSHA|InputDescription
Hints:
• MODmayonlychangeexistingdata,itisnotpossibletogenerateanynewdatastructures.
Thus a change of beam subdivisions (BEAM PROP DIV nn) is only possible with a TRAN
or MIRR command.
• Properties are organized in groups, which may be changed only in total. For example all
thickness values or all definitions for the local coordinate system define a group each. A
definition of DROT only will thus create a new standard orientation although rotated by
DROT.
3-74 SOFiSTiK2023InputDescription|SOFiMSHA
3.28 TRAN – Transformations
Seealso: DEL,MOD,NODE,MIRR,SBOX
TRAN
Item Description Unit Default
TYPE Type to be transformed, LT ALL
see remarks for allowed types.
FROM First number − 1
TO Last number − *
INC Increment of selection / FIT / GRP −/LT 1
DNO Increment for target numbers (0/n/SELF) −/LT 0
DNON Increment for element node numbers − 0
WIDE Selection range ∗ 0.0
XMIN Selection with a box in global coordinates [m] -
1001
YMIN only elements completely with the box [m] -
1001
ZMIN will be transformed [m] -
1001
XMAX Further more general geometric selections [m] -
1001
YMAX may be defined with record [m] -
1001
ZMAX SBOX beforehand. [m] -
1001
PROP Property filtering / Special options LT OLD
FIX Support condition filter LT -
DX Translation in X-direction [m] 0.
1001
DY Translation in Y-direction [m] 0.
1001
DZ Translation in Z-direction [m] 0.
1001
PHIX Rotation angle about x-Axis [◦] 0.
5
PHIY Rotation angle about y-Axis [◦] 0.
5
PHIZ Rotation angle about z-Axis [◦] 0.
5
ALPH Precision or meridian angle [◦] 0.
5
BETA Rotation angle [◦] 0.
5
THET Nutation or descent angle [◦] 0.
5
REFX Reference point of rotation [m] 0.
1001
REFY [m] 0.
1001
REFZ [m] 0.
1001
FACX Scaling factors to reference point − 1.
FACY − 1.
FACZ − 1.
SOFiSTiK2023 3-75SOFiMSHA|InputDescription
With TRAN and MIRR it is possible to generate new nodes and/or elements by rotating and
translating respective mirroring existing ones from any database (see IMPO) .
The most simple transformation is a scaling and displacement only. If rotations are added, the
sequenceoftheoperationsbecomesimportant. Asimplegeneralrotationmethodisthesimul-
taneous incremental rotation by a rotation tensor (see theoretical principles). The definition of
ALPH NORM a normalization based on the tangent values is selected which is easier to use
in most cases, but is not unique for some angles with 90 degrees.
(cid:12) (cid:12)
(cid:12) 1−(2+2)·CC  ·snψ+  ·CC − ·snψ+ ϕ ·CC(cid:12)
(cid:12) y z z  y y  z (cid:12)
(cid:12) (cid:12)
(cid:12)− ·snψ+  ·CC 1−(2+2)·CC  ·snψ+  ·CC (cid:12)
(cid:12) z  y  z  y z (cid:12)
(cid:12) (cid:12)
(cid:12)  ·snψ+  ·CC − ·snψ+  ·CC 1−(2+2)·CC (cid:12)
(cid:12) y  z  y z  y (cid:12)
ψ2 =ϕ2+ϕ2+ϕ2
 y z
ϕ ϕ ϕ
 y z
 = ;  = ;  = ; CC=1−cosψ
 y z
ψ ψ ψ
If only one angle is given, the special case of a planar rotation is obtained as special case.
Only the angle PHIZ and the displacements DX, DY are used in planar cases.
Instead of this matrix one may use the so called Eulerian angles ALPH, BETA and THET. Any
rotation in the three-dimensional space consists then of three individual components:
1. Rotation ALPH about the original gravity direction,
2. Rotation THET about the new first horizontal axis,
3. Rotation BETA about the new gravity direction.
The scaling factors may be selected in all three coordinate directions, They will be applied
relative to the reference point before the rotational transformation. A transformation with the
literal PROF for FACX projects the nodes into the plane including the reference point and the
direction (DX, DY, DZ).
The following types are possible:
NODE Nodes only
EDGE Nodes of an edge (list of nodes or structural line)
KINE Kinematic Constraints of the selected nodes only
BEAM Beam elements & nodes
TRUS Truss elements & nodes
CABL Cable elements & nodes
SPRI Spring elements & nodes
QUAD Shell elements & nodes
BRIC Volume elements & nodes
ALL All elements and nodes
3-76 SOFiSTiK2023InputDescription|SOFiMSHA
The numbers of the nodes or elements to be transformed are selected via a range FROM TO
INC. Without any definition all elements are selected, if a value for FROM is given, the default
value for TO is the same number. With a definition of INC GRP the numbers are treated as
group numbers.
With the type EGDE an already defined sequence of nodes may be copied and will be mem-
orized as a new sequence. If only the FROM value is given, the edge with that number is
addressed, if both values are given, the sequence of the edge between those nodes is cho-
sen.
ThenumberofatransformedelementisthesourcenumberplusDNO.ByenteringDNO0the
newnumbersofelementsornodesareautomaticallyassigned. WithDNOSELFthenodeand
element numbers will not be changed for an import. For a transformation within the project
database,optionSELFisonlyallowedforanodeselection,aslongasnoelementshavebeen
defined yet, and only before any system restart occurs.
The group number of the elements remain unchanged if GRP 0 is selected, otherwise the
elementswillbereassignedtothecurrentlyselectedgroup. Thereforeitisnotpossibletoshift
elements to a different group with a DNO value.
Newnodesoftheelementswillbegeneratedautomatically. WithanexplicitdefinitionofDNON
the new nodes will have a distinct offset to their old node if the old node has been defined
explicitly. Generated nodes will be either mapped to existing nodes or receive new generated
node numbers aobove the current upper limit number (see CTRL NODE).
ForatranslationitispossibletoselecttheelementstobecopiedbydefiningavalueforWIDE.
Onlythoseelementswillbecopiedthen,whicharefullyintheintervaldefinedbythereference
point and the distance wide in the translation direction. Positive values define a region behind
the reference point, negative values define a region before the reference point.
The properties of the elements will be kept in general from the original (OLD). However it is
possible to select element classes which will receive the current defined element properties:
NEW all element types
OLD no element types, delete defaults
B beam elements
T truss elements
C cable elements
Q QUAD elements
H BRIC elements
To simplify the input definition there is one exception. If a PROP has not yet been used, it will
be activated for the first following TRAN. For all other following TRAN the default will be OLD
again.
The local coordinate systems of the BEAM and QUAD elements will be transformed in the
same way, however it is possible to specify with a BEAM or QUAD PROP-record an explicit
direction via KR or a vector DRX to DRZ and an additional rotation which is applied on the
newly generated coordinate system and NOT on the original coordinate system. Directions
of springs will be recalculated in all cases, thus explicit directions have to be specified with a
PROP-record.
SOFiSTiK2023 3-77SOFiMSHA|InputDescription
Support conditions are created via a filter, i.e. any new node will receive support conditions
only which are common to the original node and the support filter FIX. (Logical AND)
Last not least, it is also possible to use TRAN and MIRR to generate elements by an extru-
sion, i.e. the original nodes and the transformed nodes will be combined to a higher type of
element with the currently defined properties. If desired a subdivision of that extrusion may be
performed. This is input via the item PROP and the input value Xnnn, where nnn is either an
optionalnumberforauniformsubdivisionortheliteralFIT.ThelattercasetheItemFIXisused
to define:
• a number of an EDGE respective a structural line
• a @ followed by the number of a structural line if the original coordinates should be taken
as local coordinates.
• anegativenumberofastructurallineifthelocalcoordinatesystemoftheedgeisnottobe
used.
• two nodes of a fit or an edge in the format node1:node2
The FIT of those nodes defines than the position of the extruded nodes in the way that all
elements are taken relative to the reference point (REFX,REFY,REFY, default is the origin for
FIX,firstnodeoftheFITforPROPYFIT)andcopiedandoptionallyrotatedtoeachnodeofthe
nodal sequence. For a pure EDGE the software will detect circular arcs automatically if there
areatleastthreepointsavailablewithinthefit. ForTYPEtherearethenonlyfourpossibilities
allowed with an extrusion:
NODE each selected node triggers a beam element
EDGE an edge yields QUAD elements
BEAM Beam elements trigger QUAD elements
QUAD QUAD-elements trigger BRIC-elements
The geometric reference number of the extruded QUAD and BRIC elements will be created
from the element number of the original element according to the settings of CTRL EXTR.
When extruding a point, truss or cable elements will be created if a PROP record of TRUS or
CABL type is preceding the TRAN record.
3-78 SOFiSTiK2023InputDescription|SOFiMSHA
3.29 EXTR – Extrusion and sweeping of elements
Seealso: TRAN,LOFT
EXTR
Item Description Unit Default
TYPE Type of element to be extruded LT !
(see below)
FROM Selector or start index ∗ !
GRP Selection by group
EDGE Selection by nodal sequence ID
SLN Selection by structural line ID
SAR Selection by structural area ID
TO Id of selector or end index ∗ FROM
INC Increment − 1
PATH Extrusion path LT !
DIR Straight extrusion along direction
EDGE Extrusion along nodal sequence
FIT Extrusion between two points
SLN Extrusion along a structural line
V1 First item ∗ !
V2 Second item m -
V3 Third item m -
DIV Number of subdivisions − -
SREF Reference node on source − -
OPT Extrusion options LT2 -
R Rotate source (only PATH SLN)
SNAP Connect to existing nodes LT YES
YES
NO
TOPO Prefer topologically related
FLIP Invert z-axis of generated QUADS (3D systems) LT NO
YES
NO
SOFiSTiK2023 3-79SOFiMSHA|InputDescription
This record allows to create elements by extruding or sweeping a set of selected source ele-
ments to new elements of a higher dimension. For example, nodes can be extruded to beam
elements,beamsornodalsequencescanbeextrudedtoquadelementsandquadstobricele-
ments. Thepropertiesoftheelementsgeneratedduringextrusioncanbedefinedbypreceding
property initialization records, e.g. GRP NO 1 REF 10, QUAD PROP MNO 2.
ThetypeofthesourceelementsisdefinedatparameterTYPE.Thefollowingtablesummarizes
all available options as well as the resulting type of elements:
Option Type of source element will be extruded to
NODE Nodes Beam elements
NODT Nodes Truss elements
NODC Nodes Cable elements
FIX Nodal constraints Layers of nodal constraints
KINE Kinematic dependencies Layers of kinematic dependencies
SPRI Spring elements Layers of spring elements
EDGE Nodal sequence Quad elements
BEAM Beam elements Quad elements
SLN Structural line Quad elements
QUAD Shell elements Bric elements
SAR Structural area Bric elements
The source elements can be selected using parameters FROM, TO and INC, by a range of
element numbers, a group number or the ID of the hosting structural element, if applicable.
Especially for spring elements, it is enough that only one of the spring nodes belongs to a
nodal sequence or structural line, in order to be selected. Whenever parameter FROM is
a literal, then the selection ID is given in parameter TO and parameter INC is not taken into
consideration. Thefollowingtablesummarizesthevalidselectioncombinationsforeachsource
element type:
TYPE FROM TO
NODE − −
FIX − / EDGE / SLN − / −, LT4 / −
KINE − / EDGE / SLN − / −, LT4 / −
SPRI − / GRP / SGRP / EDGE / SLN − / − / LT4 / −, LT4 / −
EDGE − / LT4 −
BEAM − / GRP / SGRP / EDGE / SLN − / − / LT4 / −, LT4 / −
SLN − −
QUAD − / GRP / SGRP / SAR − / − / LT4 / −
SAR − −
3-80 SOFiSTiK2023InputDescription|SOFiMSHA
Hint
Temporary source elements, such as spring elements or couplings, acting only as a tem-
plate for the extrusion, should be deleted after the extrusion with a separate DEL com-
mand, or excluded from a subsequent analysis.
A linear extrusion path can be defined using PATH DIR. In this case, the direction and length
oftheextrusionisenteredasavectorinparametersV1,V2andV3. Alternatively,anextrusion
path definition using an existing nodal sequence or structural line is possible, with the use of
PATH EDGE / FIT / SLN and an ID at V1. The extrusion start- and end-node depend on the
orientation of the path, as it has been defined. It is possible to invert this orientation using a
minus (-) symbol at the value of V1.
Parameter DIV defines the number of subdivisions or layers along the extrusion path. In the
case that the extrusion path is defined by EDGE / FIT / SLN, parameter DIV is optional, while
for PATH DIR it is required. In the first case, if DIV is not provided, the number of subdivisions
is defined by the sequence of nodes along the line or the edge.
Bydefault,theextrusionstartsatthepositionofthesourceelements,eveniftheextrusionpath
isnotconnectedtothesourceelements. Thisbehaviorcanbechangedbysettingthenumber
ofareferencenodeonthesource,atparameterSREF.Inthiscase,theelementsofthesource
are first copied to the start-point of the extrusion path, such that the reference point coincides
with the start-point.
The orientation of the source elements is kept along the extrusion by default. For an extrusion
along a structural line, this can be changed by setting parameter OPT to R. In this case, the
sourceelementsarerotatedaccordingtothelocalcoordinatesystemalongthestructuralline.
3.29.1 SNAP
Finally, parameter SNAP offers the possibility to control whether the generated elements will
be attached to existing nodes of the system, in case the node positions coincide. Otherwise,
this parameter has no effect.
Option YES will use a detected node at the computed coordinates, giving priority to the one
most recently created. However, if a path with explicitly specified node numbers is given, e.g.
EDGE,SLN,thenacoincidingpathnodeisprefered,sothatthenewelementsareattachedto
the nodes of the path.
Option NO will unconditionally force the generation of new nodes.
Option TOPO will give priority to a node which, in the existing system, is directly connected,
i.e. through a finite element, with the corresponding node used in the previous extrusion layer.
If no such a node exists, then the behaviour is the same as with SNAP YES.
This option may be useful when extruding unconnected elements, with coinciding nodes, and
itisdesirablethatthenewextrudedelementsremainunconnected. Orinasimilarcasewhere,
however, 0-length spring elements are extruded inbetween. Depending on the overall system
size, option TOPO may be computationally demanding and, thus, should be reserved only for
special cases.
SOFiSTiK2023 3-81SOFiMSHA|InputDescription
3.29.2 Spring Properties
The properties of the generated spring elements can be defined in a preceding SPRI PROP
record. In case such a definition does not exist, every new spring will inherit the properties of
its corresponding source spring. The Reference Area AR is an exception, as it will always be
automaticallycomputedforeveryspring,basedonthetype(linear/areal)andgeometryofthe
extrusion.
Hint
IMPORTANT:SelectingsourcespringsFROMEDGE/SLNwillresulttoanarealbedding,
while selecting springs by number or by group will result to a separate linear bedding for
everysourcespring. ThecorrectcomputationoftheReferenceAreadependsonthat. Itis
recommendedthatthepropertiesofthegeneratedspringelementsarealwaysvalidated,
to ensure they are the intended ones.
3.29.3 Examples
The following example shows an extrusion of the quad elements of group 1 to brics along a
straight path defined by a vector:
GRP 10
BRIC PROP MNO 1
EXTR TYPE QUAD GRP 1 PATH DIR 0 0 5.0 DIV 10
Ten layers of bric elements will be generated along the extrusion path. The group number as
well as the properties of the new bric elements are defined in advance.
Extrusion of all quad elements in group 1 to brics along structural line no 5.
EXTR TYPE QUAD GRP 1 PATH SLN 5 OPT R
ThestructurallinehasbeendefinedinapreviousSOFiMSHCrun(seeSOFIMSHC:SLN).The
subdivisionoftheextrusionmatchesthesequenceofnodesgeneratedalongthestructuralline.
Each extrusion layer will be rotated according to the local coordinate system of the line.
Extrusion of spring elements on a linear support, along structural line 1, to 10 layers of spring
elements in vertical direction:
EXTR TYPE SPRI SLN 1 PATH DIR 0 0 5.0 DIV 10
The spring elements will automatically be connected with already existing nodes of quad, bric
or beam elements. The reference area of the resulting springs is taken by the corresponding
source springs and will be scaled according to the path subdivision, yielding an areal support
on the extrusion surface.
3-82 SOFiSTiK2023InputDescription|SOFiMSHA
3.30 LOFT – Lofting / Interpolation
Seealso: TRAN,EXTR
LOFT
Item Description Unit Default
TYPE Type of source/target element LT !
EDGE Sequence of nodes
SLN Structural line
QGRP Group of quads
SAR Structural area
IDSC ID of source ∗ !
IDTG ID of target ∗ !
REFS Reference node on source − -
REFT Reference node on target − -
DIV Number of layers − -
OPT Interpolation options LT3 EQ
- Linear interpolation if no further information
provided
E Detectconnectingnodalsequences/edges
/ structural lines
Q Detect connecting QUAD elements
B Detect adjacent faces of BRIC elements
Thisrecordallowsthegenerationofquadorbricelementsbyloftingbetweenasource(IDSC)
and a target (IDTG) curve or area.
A quad mesh can be created by lofting between a source and a target curve (TYPE EDGE /
SLN).
Abricmeshcanbecreatedbyloftingbetweenasourceandatargetquadmesh(TYPEQGRP
/ SAR). In both cases, the source and the target mesh must be topologically similar, such that
each element on the source can be associated with an element on the target.
The generation of topologically similar nodal sequences on curves or quad meshes can be
enforced by coupling the respective structural entities in a previous SOFiMSHC run. See
SOFIMSHC: SLNS and SOFIMSHC: SARS for further information. Parameters REFS and
REFT can be optionally used to help auto-detect and establish such an association.
Bydefault,thenodesoftheintermediatelayerswillbeinterpolatedlinearlybetweenthesource
and the target mesh. The resulting elements will always snap to any existing elements with
coinciding nodes.
SOFiSTiK2023 3-83SOFiMSHA|InputDescription
ParameterOPTcanbeanycombinationofE,QandB.OptionEenablesthedetectionofcon-
nectingnodalsequencesorstructurallines,thesubdivisionandgeometryofwhichwillbeused
as lofting guide curves. Accordingly, Q and B enable the detection of existing QUAD elements
andfacesofBRICelements,betweenthesourceandthetarget,thatthenewelementswillbe
attached to. The option can be deactivated by setting OPT -.
When OPT E is enabled, the program will try to detect a correspondence between the nodes
onthetargetandthenodesonthesourcemesh,basedontheexistenceofconnectingedges/
structurallines. Incasethisisnotpossible,theusercanalwaysestablishacorrectassociation
through REFS and REFT.
The numberof subdivisionsbetween thesource andtarget meshesis automaticallyset, when
using OPT E and a connecting edge / structural line is detected. If more than one connecting
edges exist, the subdivision of the first detected edge is considered, and the remaining edges
are not used at all. The user may also specify an number of subdivisions manually, using
parameter DIV. Once again, only detected edges that match the specified DIV will be used.
Note: OPT B may be computationally demanding and its use can in most cases be avoided:
Theresultingelementswillalwaysattachtocoincidingexistingnodes,includingthoseofBRIC
faces. The presence of connecting edges / structural lines and possibly quads, between the
source and target meshes, is usually enough to guide the loft operation in the desired way.
3.30.1 Examples
Generation of bric elements between the two structural areas 1 and 2:
GRP 10
BRIC PROP MNO 1
LOFT TYPE SAR 1 2 PATH DIV 10 OPT E
The two structural areas 1 and 2 have been coupled in a previous SOFiMSHC run using com-
mand SOFIMSHC: SARS, in order to enforce a topologically similar subdivision of quad ele-
mentsbetweenthetwosurfaces. Tenlayersofbricelementswillbegeneratedbetweenthetwo
surfaces. The group number as well as the properties of the new bric elements are defined in
advance. Onlystructurallineswith10segmentswillbeusedasguidingcurves,ifdetected. No
reference nodes are provided on the source and target surfaces, so a topological association
may fail if no connecting structural lines of 10 segments are detected.
3-84 SOFiSTiK2023InputDescription|SOFiMSHA
3.31 MIRR – Mirroring
Seealso: DEL,MOD,TRAN,NODE,SBOX
MIRR
Item Description Unit Default
TYPE Type to be transformed: LT ALL
FROM First number − 1
TO Last number − *
INC Increment of selection numbers −/LT 1
GRP FROM and TO are groups
FIT generated sequence of nodes
DNO Increment for target numbers (0/n/SELF) −/LT 0
DNON Increment for element node numbers − 0
WIDE Selection of region [m] 0.0
1001
XMIN Selection with a box in global coordinates [m] -
1001
YMIN only elements completely with the box [m] -
1001
ZMIN will be transformed [m] -
1001
XMAX [m] -
1001
YMAX [m] -
1001
ZMAX [m] -
1001
PROP Property filtering LT OLD
FIX Support condition filter LT -
A Constants defining the mirroring − 0.
B plane with − 0.
C A·x + B·y + C·z = DIST − 0.
DIST [m] 0.
1001
MP1 or three node points in the − -
MP2 mirroring plane − -
MP3 − -
FAC Scaling factor − 1.0
With MIRR it is possible to generate new nodes or elements by mirroring existing ones from
anydatabase. Themirroringusesageneralplanein3D(notanaxiswhichisonlyvalidin2D).
The equation is of general type, but we recommend to use the Hessian form where:
(A,B,C) = Normal vector of the plane with length of 1.0
DIST = Distance of the plane to the origin
Hint: GENF used the general canonical equation of
SOFiSTiK2023 3-85SOFiMSHA|InputDescription
the mirror plane with D = -DIST.
An other common definition is via the axis interceptions (D=1.0):
 y z 1 1 1
+ + =1 =⇒ A= ; B= ; C=
 b c  b c
The dimensional units for the input (PAGE UNII) will be applied in that case to the values A to
C, otherwise on value D.
last not least we have the possibility to define the plane by three already defined nodes in the
plane.
For simpler cases only some of the coefficients need to be supplied. e.g:
S: y = 3.0 B = 1.0, DIST = 3.0
Figure3.36: Mirrorplane
The distance a of the mirrored point may be scaled with an additional factor FAC.
For a mirroring it is possible to select the elements to be copied by defining a value for WIDE.
Only those elements will be copied then, which are fully outside the interval defined by the
distance WIDE to the mirroring plane reference point and the absolute distance WIDE. The
default of 0.0 will therefore not mirror any elements intersecting the mirroring plane.
All other parameters are identical to those at TRAN.
3-86 SOFiSTiK2023InputDescription|SOFiMSHA
3.32 UMSH – Unstructured Mesh Generation
Seealso: UBND
UMSH
Item Description Unit Default
TYPE Type of mesh LT -
QUAD 2D Mesh generation using quadrilateral el-
ements
TRI 2D Mesh generation using triangular ele-
ments
TET 3D Mesh generation using tetrahedral ele-
ments
HMAX maximum mesh size on edges (2D) [m] *
1001
PROG Progression factor − 1.25
SAR Identifier of a structural area to work on (2D) − -
With the use of UMSH, an unstructured mesh generation in 2D / 3D is possible. This record is
followed by a set of UBND records that define the geometry of the domain to be meshed.
ThedesiredelementtypecanbeselectedbysettingTYPEtoQUAD/TRIfora2Dmesh,con-
sisting of quadrilateral / triangular elements, or TET for an unstructured 3D mesh generation,
usingtetrahedralelements. Inthecaseofavolumemesh,theboundarysurfaceofthedomain
must have been previously meshed, with quadrilateral or triangular elements.
The maximum element size is controlled by parameter HMAX. If not input is provided, the
defaultHMAXiscomputedasthemaximumedgelengthoftheboundarycurve(2D)orsurface
(3D).TheprogressionfactorPROGcontrolstheratiooftheedgelengthofneigboringelements.
Finally, SAR is only applicable in 2D mesh generation and refers to a structural area that has
beenpreviouslydefined. WiththeuseofSAR,theboundariesofthesurfaceareautomatically
detected and, in this case, the use of UBND records is not necessary. This is the only suitable
optionformeshingnon-planarsurfaces,astheuseofUBNDrecordsfor2Dmeshingassumes
a planar geometry.
SOFiSTiK2023 3-87SOFiMSHA|InputDescription
3.32.1 UBND – Boundary definition for UMSH
Seealso: UMSH
UBND
Item Description Unit Default
TYPE Type of boundary LT !
OUT External boundary
IN Internal boundary (Opening)
CONS Constraining edge (2D)
SEL Type of selection LT !
NODE (2D)
FIT (2D)
EDGE (2D)
QREF (3D)
QGRP (3D)
COOR (3D)
AUTO Automatic detection of internal boundaries
(3D, TYPE IN)
X Internal point coordinates (SEL COOR) [m] -
1001
Y [m] -
1001
Z [m] -
1001
N1 List of selection identifiers ∗ -
.
.
.
N32 ∗ -
WithUBND,theboundaryofasurfaceorvolumeisdefined,thatformsadomaintobemeshed
using UMSH. Multiple records are possible, that act additionally to the previous ones. Unless
parameterUMSHSARhasbeenused,atleastoneUBNDrecord,definingtheouterboundary
of the domain, is required for every mesh generation.
3.32.2 2D Mesh Generation
For2Dmeshing,allnodesontheboundarymustbeco-planar,otherwisethemeshgeneration
mayfailorresulttoadistortedmesh. Fornon-planarsurfacemeshing,UMSHSARisavailable.
Option TYPE specifies whether it is an external (OUT) or internal (IN) boundary that is being
defined. For 2D meshes, it is also possible to define constraining boundaries (CONS), for
example prescribed nodes or edges.
A definition of a boundary is possible in various ways, through parameter SEL. In order to
3-88 SOFiSTiK2023InputDescription|SOFiMSHA
define a 2D domain, a list of up to 32 nodes (per entry) on the periphery may be provided, by
defining SEL NODE and providing the node numbers in the fields N1 – N32. Their input must
beinthecorrectsequentialorder,whileforTYPEOUT/INitisassumedthattheyformaclosed
curve – no repetition of the first node at the end of the sequence is required. The boundary
segments between the nodes are assumed to be linear. For constraining boundaries, TYPE
CONS, individual nodes are considered, without forming a closed boundary.
An alternative option is the use of SEL FIT, which behaves similarly to SEL NODE, with the
additionthatanodalsequencewillbefollowed,ifdetected,insteadofassumingnosubdivision
between the nodes.
Finally, with SEL EDGE a list of boundary edges may be provided, the identifiers of which –
numbers or literals – are then specified via N1 – N32. In this case, the sequence of the edges
is not important, as they are automatically sorted in a sequential node order. However they
have to form a closed curve when defining an outer or inner boundary.
It should be noted that the combination of different SEL options for a 2D outer boundary is not
possible. Multiple TYPE OUT entries will be taken into consideration, however they must all
refer to the same type of boundary description.
Example 2D
GRP 10
QUAD PROP MNO 1
UMSH TYPE QUAD HMAX 0.5 PROG 1.5
UBND TYPE OUT SEL NODE N1 1 2 3 4 $ Outer boundary $
UBND TYPE OUT SEL NODE N1 5 6 7 8 $ Outer boundary (continued) $
$ UBND TYPE OUT SEL EDGE N1 11 12 13 14 $ $ Not possible $
UBND TYPE IN SEL NODE N1 5 6 7 8 $ First Hole $
UBND TYPE IN SEL EDGE N1 15 16 17 18 $ Second Hole $
3.32.3 3D Mesh Generation
For a 3D domain, the boundary surface may be defined by a list of structural area numbers,
using SEL QREF, or group numbers, using SEL QGRP. In both cases, the QUAD elements
belonging to the specified selection are considered as boundary elements of the volume. The
QUADelementsmaybetriangularorquadrilateralandmustformaclosedsurface. Asopposed
to 2D, different SEL options may be combined in order to define a 3D outer boundary.
IfSELQREFisusedandonlyN1isprovided,anautomaticvolumedetectionwillbeattempted
onthepositivedirectionofthespecifiedstructuralarea,ortothenegativeoneifthevalueofN1
is negative (SOFIMSHC: SAR). The detected boundary surface will be the one that encloses
the minimum volume at the specified direction.
In a similar way, using SEL COOR, an automatic detection of a boundary surface is possible
by providing the coordinates of a point that is internal to the defined volume (TYPE OUT) or
void (TYPE IN). In this case, X, Y and Z must be defined. The detected volume is, again, the
minimum possible.
All of the above options apply both in defining an outer (TYPE OUT) or an inner boundary
(TYPE IN). Additionally, the automatic detection of all internal voids is also possible, after an
external boundary has been defined, using TYPE IN SEL AUTO.
SOFiSTiK2023 3-89SOFiMSHA|InputDescription
Hint
With the use of options COOR or AUTO, BRIC faces on the boundary of an existing
adjacent volume are automatically detected. Therefore, the presence of QUAD elements
at this region is not necessary.
Examples 3D
Definition of a volume with inner voids:
GRUP 10
BRIC PROP MNR 1
UMSH TYPE TET
UBND TYPE OUT SEL QREF N1 21 22 23 24 $ Outer boundary $
UBND TYPE OUT SEL QGRP N1 1 2 3 4 $ Outer boundary (continued) $
UBND TYPE IN SEL AUTO $ Detect inner voids automatically $
Definition of a volume by internal coordinate:
GRUP 11
BRIC PROP MNR 1
UMSH TYPE TET
UBND TYPE OUT SEL COOR X 0.1 0.1 0.1 $ Internal coordinate $
3-90 SOFiSTiK2023InputDescription|SOFiMSHA
3.33 INTF – Generation of interfaces
Seealso: SPRI
INTF
Item Description Unit Default
OPT Options − -
CONT Continuation record
TYPE Type of interface elements LT SPRI
SPRI
REFT Reference type LT SAR
SAR
QREF
QGRP
NO +/- Reference number − !
D Interface offset [m] -
1001
MNO Material number for interface elements − -
(cid:2)kN/m3(cid:3)
CP Axial spring constant 0.0
1097
(cid:2)kN/m3(cid:3)
CT Lateral spring constant 0.0
1097
Hint
Currently, record INTF has to be used in a separate SOFiMSHA run.
UsingrecordINTFitispossibletogenerateelementswithbeddingorcouplingproperties,ona
structural area, known as interface elements. Technically, the QUAD elements of the specified
structural area are decoupled from the surrounding structure and a layer of spring elements
is introduced, in order to bind the corresponding nodes with the specified type of kinematic
coupling.
This option is primarily intended for modeling contact conditions between or within volumes,
such as the case of a retaining wall with its surrounding soil or the contact area between
two materials. However, the cases of use are not limited to volumetric domains, since the
generation of interface elements is also possible between the specified structural area and
other types of adjacent elements, such as QUAD and BEAM elements.
In case that multiple areas are involved in the interface generation for one distinct volume,
these interfaces must be generated simultaneously. This refers to areas that share common
edges, formingacontinuoussurface,andtheinterfacegenerationisdesiredonthesameside
of the surface. For this purpose, parameter OPT CONT must be used, in order continue with
the input of the following areas that form the common surface. The command execution is
postponed as long as a new INTF OPT CONT record is added, or a different command is
issued.
SOFiSTiK2023 3-91SOFiMSHA|InputDescription
ParameterTYPEcanbeusedinordertospecifythetypeofinterfaceelements. Currently,only
spring elements are supported.
ParameterREFTisusedtospecifythewaythatthereferenceQUADelements,attheinterface
position, will be selected.
Parameter NO is an identifier for the reference region or group, as specified by parameter
REFT. A +/- sign can be used to select on which side of the QUAD elements the interface will
be generated.
With parameter D, it is possible to specify the thickness of the interface layer, which currently
forms a gap between the reference region and the detached elements, by shrinking the ele-
ments. This gap is mostly intended for mesh connectivity inspection, after the interface gener-
ation, and its presence in the computational model is generally not desired. It should be noted
that the introduction of a gap may result in distorted, ill-conditioned elements.
Parameter MNO refers to a material number, to be used for the interface elements.
For spring elements, the material number determines their non-linear properties. Parameters
CP and CT refer, respectively, to the axial and lateral spring constants. The direction and
reference area of the spring elements are automatically computed.
3-92 SOFiSTiK2023InputDescription|SOFiMSHA
3.34 RSET – Result Set
RSET
Item Description Unit Default
ID Identifier LT4 -
SET Primary type of results LT8 !
ITEM Specific item of results LT8 !
UNIT Unit of results LT8 -
NO Element number − -
NG Group/Material number (optional) − -
X Abscissa for beam elements [m] -
1001
OPT Options Lt -
TITL Designation LT32 -
This record defines a group of up to 255 results. This feature is useful for example to get
support forces in different nodes and directions, where the corresponding values are required.
As the record is very general, any result which is provided by a structural analysis case may
be used, the possible SETs and ITEMs are defined in the CDBASE.CHM documentation.
However results of design load cases are not available.
The most important sets are:
NODE Nodal displacements and support reactions (N_DISP)
UX, UY, UZ, URX, URY, URZ, URB, PX, PY, PZ, MX, MY, MZ, MB
BEAM Beam forces and moments (BEAM_FOR)
N, VY, VZ, MT, MY, MZ, MB, MT2, UX, UY, UZ, PHIX, PHIY, PHIZ, PHIW,
MT3, PA, PT, PTY, PTZ
TRUS Results of truss elements (TRUS_RES)
N, V
CABL Results of cable elements (CABL_RES)
N, V, VQ, VTX, VTY, VTZ
SPRI Results of spring elements (SPRI_RES)
P, PT, PTX, PTY, PTZ, M, V, VT, VTX, VTY, VTZ, PHI
QUAD Forces and moments of QUAD elements (QUAD_FOR)
MXX, MYY, MXY, VX, VY, NX, NY, NXY
resp. stresses of QUAD elements (QUAD_STR)
SIGX, SIGY, TAU, SIGZ
QNOD Forces and moments of QUAD nodes (QUAD_NFO)
resp. stresses of QUAD nodes (QUAD_NST)
BRIC Stresses of BRIC elements (BRIC_STR)
SOFiSTiK2023 3-93SOFiMSHA|InputDescription
SIGX, SIGY, SIGZ, TVXY, TVXZ, TVYZ
BNOD Stresses of BRIC nodes (BRIC_NST)
A definition of a set is given by a headder record with the ID of the set itself, followed by
multiple records with special IDs for every element which are needed to identify the result
items in MAXIMA or ELLA.
It is possible to specify at SET a formula with up to 32 characters, using items of the same
result set or sets defined before. A formula must always start with an equal sign ’=’ to be
distinuishable from a text variable. If a text variable should be used as a formula, or other
variables evaluated during the input this can be achieved with a preceeding tilde " " instead.
˜
The expression has no unit by default, thus a UNIT should be always specified.
For any superposition it has to be considered that MAXIMA will work only on the value of the
formulaandELLAcannotestablishaninfluencelineforaformula. Inbothcasestheexpression
will be reevaluated after the superposition from the other items.
All IDs must start with a character, not a number.
RSET 'A1' TITL 'RESULT SET AXIS 1'
RSET 'P1' NODE PZ NO 11
RSET 'P2' NODE PZ NO 12
RSET 'V1' BEAM VZ NO 110001 X 0.0
RSET 'V2' BEAM VZ NO 110001 X 0.875
RSET 'A2' TITL 'RESULT SET AXIS 2'
RSET 'P1' NODE PZ NO 21
RSET 'P2' NODE PZ NO 22
RSET 'V1' BEAM VZ NO 210001 X 0.0
RSET 'V2' BEAM VZ NO 210001 X 0.875
RSET 'PP' '=P1+P2+SQR(V1**2+V2**2)' UNIT 'kN'
A record with RSET DEL deletes all definitions of result sets.
A record OPT S creates a new line in the result table if the space is available (maximum of 29
lines).
3-94 SOFiSTiK2023InputDescription|SOFiMSHA
3.35 EXPO – Ansi Export of Data
EXPO
Item Description Unit Default
OPT Data to export −/LT 63
1 Nodes and Constraints
2 Springs, Dampers and Boundaries
4 Beam, Cable and Truss Elements
8 Plane elements (QUAD)
16 Volume elements (BRIC)
TO Name of a file to write to Lt96 *
PASS Password of database Lt16 -
WiththerecordEXPOyoumayexportthenodesandelementsinthedatabasetoaninputfile
for SOFiMSHA. This may be useful in special cases.
If the file name is not specified the data will be appended to the most recently defined file or a
file with the name project_SYS.DAT is generated.
The units of the values will be set to the current setting of UNIE from record PAGE. The input
languageoftherecordanditemnamesinthenewfilewillbethesameasthecurrentCADINP
input.
With the input OPT DOLG the finite volume mesh for the program DOLFYN will be generated
(.DGE).Asidentifierforvolumesandboundariestheprimarygroupnumberwillbeused. Fora
2D system the QUADs and their edges will be extruded to volumes and faces with a thickness
of 1 m. There are the following options:
DOLG:PA Create the primal mesh as ASCII-file (equivalent to the FE mesh)
DOLG:DA Create the dual mesh as ASCII-file (this is the polyhedral mesh)
DOLG:PAT Create also a VTK-File of the generated geometry
DOLG:DAT Create also a VTK-File of the generated geometry
DOLG:PB Create the primal mesh as binary-file (not yet supported)
DOLG:DB Create the dual mesh as binary-file (not yet supported)
With the input OPT DOLF the files for the DOLFYN preprocessor will be generated (.VRT,
.CEL, .BND). These are also required for thr VTK-Export in DOLFYN.
WiththeinputOPTVTKitispossibletoexporta.VTKfile,sothatthesystemcanbevisualized
with a third-party software. Currently, only surfaces can be exported.
SOFiSTiK2023 3-95SOFiMSHA|InputDescription
3.36 IMPO – Import of Data
IMPO
Item Description Unit Default
OPT Data to import Lt32 *
FROM Name of a file to import Lt96 !
PASS Password of file Lt16 -
DEFO Load case for deformations − -
FACT Factor for deformations − 1.0
XREF Reference point ordinate [m] 0.0
1001
YREF Reference point ordinate [m] 0.0
1001
ZREF Reference point ordinate [m] 0.0
1001
PHIZ Rotation [◦] 0.0
5
With the record IMPO you may import the nodes and elements as well as results of external
filesforSOFiMSHA.Thefollowingfilesarepossible,beingdistinguishedbytheirfileextension:
• .CDB - an other data base
This database is not imported, but is selected as source for the commands TRAN and
MIRR.Thisallowsforexampletheeasyreplicationofstructuresfromanexternaldatabase.
The import database remains active until another database is selected or a record with
record name IMPO only switches back to the primary database. With DEFO a load case
number may be selected. The deformations of that load case will be multiplied with FACT
and added to the nodal coordinates during import.
• .STL - STEREOLITHOGRAPHY FORMAT
solid OBJECT
facet normal -5.085132e-001 8.610542e-001 -4.779932e-005
outer loop
vertex 2.618444e+004 5.821683e+003 4.409577e+002
vertex 2.618444e+004 5.821686e+003 4.433804e+002
vertex 2.619336e+004 5.826951e+003 4.449860e+002
endloop
endfacet
endsolid
• .DGF - a WAMIT geometry file for low order method
The faces of the body of the selected geometry file are imported. OPT defines an op-
tional master node which is used as reference for all generated kinematic constraints of
the generated nodes. (XREF,YREF,ZREF) are the global coordinates of the local origin of
theimportedbody. PHIZisanoptionalrotationofthelocalcoordinatesystem.(seeWAMIT
Potential Control File).
3-96 SOFiSTiK2023InputDescription|SOFiMSHA
• .FVI - FEMVIEW neutral postprocessing files
(subset as generated from PHYSICA) The Hexahedral-Elements and nodes will be im-
ported, as well as the results to be processed by SOFiSTiK (e.g. velocities, pressures,
temperatures, displacements, stresses).
IOPT 0 Default of all Options
1 Enforce a planar system (QUAD)
2 Generate a load case for every time step
WithIMPOitisalsopossibletoimportverygeneraldatalikeresultstothedatabase. However
this feature is not suitable for the standard user in general. It is intended to be used mainly by
automatic interfacing software tools. Checks for consistency are very rough for this case.
• At OPT a literal is defined starting with the name of a structure described in the data base
description (CDBASE.CHM) following with a slash and the load case number. Up to six
default integer values may be added separated by a : character.
• At FROM an optional literal may be specified containing the list of the defined items sepa-
rated by commas.
• The third literal is provided for additional options. The sequences MAX, MIN or MAMI
will trigger the creation of those headder records needed for WINGRAF, the sequence -L
selects the length of the records to be defined by the number of defined items.
After the IMPO Record there is an arbitrary number of records with the Name IMPD and up
to 48 Data values (Items V01 to V48). Each of those values may be specified with an explicit
dimension. If the input unit system has been selected with PAGE to a value >0, all data is
converted following the units specified in the description. Literals are possible if the structure
in the database is marked for those possibilities.
e.g. IMPO 'N\_DISP/101' 'NR,UZ,URX,URY' 'MAMI-L'
IMPD 1 0.0234 0.1234 0.0034
IMPD 2 0.0234 0.1234 0.0034
SOFiSTiK2023 3-97SOFiMSHA|InputDescription
3.37 ECHO – Control of the Output
ECHO
Item Description Unit Default
OPT A literal from the following list: LT FULL
MAT Material properties
SECT Cross section properties
NODE Node parameters
QUAD 2-D elements
BRIC 3-D elements
BEAM Bending beams and piles, truss and cable
elements
BOUN Spring and boundary elements
SYST System values, list of groups, cross section
types and elements
STAT Analysis statistics
FULL All the above options
VAL Output extent LT YES
NO no output
YES regular output
FULL Extended output
EXTR Most extended output
The record name ECHO must always be repeated for each record, otherwise confusion may
occur with other records with similar names (e.g. NODE).
Thedefaultvaluecorrespondstotheregularoutput,aslongasthesystemhasbeengenerated
error free.
ECHO-Option SYST may be defined instead of NO/YES as a numerical value of a bitpattern:
1 General Group Statistics (always printed)
2 Beam/Truss/Cable Statistics
4 QUAD Statistics
8 BRIC Statistics
16 Printout ordered by groups
32 Printout ordered by cross-sections
64 Printout ordered by material
3-98 SOFiSTiK2023InputDescription|SOFiMSHA
128 print also sum of reinforcements
256 print detailed sum of QUAD reinforcements
1024 nodal masses
ECHO-Option SYST saves the results of the evaluation also in the database as CADINP-
Variables. The arrays of variables GRP_MASS, SCT_MASS and MAT_MASS as well as
GRP_REIN and SCT_REIN contain the masses (MASS) and reinforcements (REIN) of all
groups (GRP_) and section numbers (SCT_) or Materials (MAT_), where the index 0 contains
the total sum.
SOFiSTiK2023 3-99SOFiMSHA|InputDescription
3-100 SOFiSTiK2023OutputDescription|SOFiMSHA
4 Output Description
If the defaults of the record ECHO are used, all the input values are also output. This can be
prevented by setting ECHO FULL NO.
The options of the ECHO record enable one to obtain a selective output, e.g. ECHO NODE
NO means that node data should not be printed.
The results of the profile optimisation are output on the screen as well as in the protocol file.
Thebandwidthandtheprofileareoutputherewithoutconsiderationofthedegreesoffreedom
per node.
4.1 Group Attributes
The table of the group attributes is printed always first. Only with switching off of the complete
output with ECHO FULL NO this table is also not printed.
Groups
Grp Group number
number Number of the corresponding type
type Type of the elements
QUAD - plane elements
BRIC - three-dimensional solid elements
BEAM - beam elements
TRUS - truss elements
CABL - cable elements
SPRI - spring elements
BOUN - boundary elements
DAMP - damping elements
FLEX - general elastic elements
KINE - kinematic constraints
min-no Minimum possible element number of the group
max-no Maximum available element number of the group
top-no Maximum element number of the group
Title Title of the group
4.2 Nodal Values
With ECHO NODE YES all nodal coordinates and their relevant supports (nodal constraints)
and kinematic constraints are output.
The nodal coordinates and supports in the list mean the following:
SOFiSTiK2023 4-1SOFiMSHA|OutputDescription
nodal coordinates and supports
Number Node number
X X-coordinate in m
Y Y-coordinate in m
Z Z-coordinate in m
Support Conditions Support conditions of a node (Explanation of the
abbreviation in record NODE)
MIN minimal coordinate value
MAX maximal coordinate value
Dependingontheinput,alistofthekinematicconstraintsisgeneratedadditionally. Ifkinematic
constraints or intermediate nodes with INTE in record NODE are input, the following list is
generated:
Kinematic Constraints
Grp Group number
LV Levelofkinematicconstraintforrecursivedefinition
Node Node number
type Couplingcondition(Explanationoftheabbreviation
in record NODE) or by definition
intermediate node: Type of interpolation
INTtyp (Explanation of type see INTE record
NODE)
reference Reference node
dx,dy,dz Directions of the kinematic constraints or effective
distances between the nodes
df general factor, indicates where the intermediate
node (INTE) lies between the reference nodes
Printofdependenciesistheresultofthecombinationofallspecifiedconditions,i.e. aconstraint
may have become a true support or two radial dependencies may have become a tangential
one, etc.. Further the dependencies are printed in the most recent convention, ie, a constraint
type KPX0 defines a dependency of the displacement only, while KPX or KPXY define con-
straints fullfilling the equilibrium of moments.
For the input of the kinematic dependencies with the record KINE, the following list is gener-
ated:
4-2 SOFiSTiK2023OutputDescription|SOFiMSHA
Grp Group number
LV Level of coupling for recursive definition
Node Dependent node
ND Dependent degree of freedom, denoted with local
degree of freedom
ND1 Referencedegreeoffreedom1,denotedwithnode
number/local degree of freedom with X,Y,Z for the
displacements and XX,YY,ZZ for the rotations
FD1 Factor for reference degree of freedom 1
.
.
.
ND6
FD6
If an input of single masses is made with the record MASS, then these are output as follows:
Nodal Masses
Node Node number
Group Number of the group
M-X,M-Y,M-Z [kg] Translational masses
M-XX,M-YY,M-ZZ [kgm2] Rotational masses
4.3 Plane Elements (2-D, QUAD)
Theoutput-listoftheplaneelementsisgeneratedwithECHOQUADYES(default). Theitems
in the list of plane elements mean the following:
Flat Elements
Grp Group number
Number Element number
Node Node numbers of the corner nodes
Node
Node
Node
MNo Material number
t [m] Thickness of the element
C [kN/m3] Elastic foundation
SOFiSTiK2023 4-3SOFiMSHA|OutputDescription
direction local x Direction of the local x axis
Orthotropic thickn. Orthotropic thicknesses of the element in m
TX,TY,TXY,TD (Output occurs only in case of deviations to the
thickness.)
Variable thickness Variable thicknesses of the elements in m
t1 - t4 (An output occurs only for different thicknesses in
the nodes.)
4.4 Three-dimensional Solid Elements (3-D, BRIC)
With the input ECHO BRIC YES (default), the three-dimensional solid elements are output in
the following list:
Solid Elements
Grp Number of the group
Number Element number
Node Number of the node 1
Node Number of the node 2
Node Number of the node 3
Node Number of the node 4
Node Number of the node 5
Node Number of the node 6
Node Number of the node 7
Node Number of the node 8
MNo Material number of the element
4.5 Boundary Elements
With the record ECHO BOUN YES (default), the lists of the boundary elements (BOUN), the
element matrices or supports (FLEX), the damping elements (DAMP) and the single masses
(MASS) are output.
After the input of the record BOUN - distributed elastic supports, the following list appears:
Supporting Lines
from Starting node or element number of the boundary
to End node number
inc Increment
type Direction of support
ref Axis for the increase (global)
CA/CB Spring constants at the beginning/end
4-4 SOFiSTiK2023OutputDescription|SOFiMSHA
Title/Direction Title of the boundary element and direction
Total Length Total Length in m
After the input of the record FLEX - general elastic element, an element matrix is supplied in
the output-list:
for single nodes:
Flexible Supported Nodes
Number Number of the element
Node Node number, negative for substructure
F-xx,F-yy,F-zz, Values of the flexibility matrix
FR-xx,FR-yy,FR-zz,
FR-ww
for boundaries:
Additional Stiffness
Number Number of the element
Node Node numbers, negative for substructure
S-xx,S-yy,S-zz, Values of the stiffness matrix
SR-xx,SR-yy,SR-zz
For the substructure-technique the shift-values of the stiffness are output.
If damping elements were defined with the record DAMP, a list of the damping elements is
output:
Damper Elements
Grp Number of the group
Number Element number
Node Start node
Node End node
dX,dY,dZ [-] Indication of direction of the damping element
DP [kNsec/m] Damping in axial direction
DT [kNsec/m] Damping in lateral direction
DM [kNmsec] Damping moment about the axis
SOFiSTiK2023 4-5SOFiMSHA|OutputDescription
4.6 Bending Beams and Piles
The output of the bending beams and piles occurs with ECHO BEAM YES (default).
For the defined bending beams and piles (BEAM) the following list is output:
Beam Elements
Grp Group number
Number Beam number
Node Number of the start and/or end beam node
x [m] Distance from the beginning of the beam in m
NoS Cross section number
An i at the cross section number designates,
whether it is possible to interpolate this cross sec-
tion.
NoP NumberofthebeddingprofilereferenceReference
axis
Hinges Hingecombination(Explanationoftheabbreviation
see record BEAM , shear forces are abbreviated
with V..)
direction local y-axis Direction information about local y-axis
beta-y/z Buckling length coefficient for main and transverse
bending
AfterthedefinitionofbeamsectionswiththerecordBSEC,theadditionalinformationisadded
totheoutputlistofthebendingbeams,theseincludethetype,thedirectionandthepositionof
the defined beam sections (for further explanations see BEAM and BSEC).
4.7 Truss Elements
AlistoftrusselementsisgeneratedwithECHOBEAMYES(default). Heretheitemsofthelist
mean:
Truss Elements
Grp Number of the group
Number Number of the truss beam
Node Start node
Node End node
section Cross section number
L [m] Length
N-p [kN] Prestressing force
4-6 SOFiSTiK2023OutputDescription|SOFiMSHA
4.8 Cable Elements
With ECHO BEAM YES (default) the following list of cable elements is output also:
Cable Elements
Grp Number of the group
Number Number of the cable element
Node Start node
Node End node
section Cross section number
L [m] Length
N-p [kN] Prestressing force
4.9 Springs
Spring values are output as the boundary elements with ECHO BOUN YES (default). The
general spring values are printed in the list of the spring elements:
Spring Elements
Grp Number of the group
Number Spring number
Node Number of node upon which the spring acts
Node Number of a second node
dX,dY,dZ [-] Components of direction X,Y,Z
CP [kN/m] Axial spring constant in kN/m
CT [kN/m] Lateral spring constant in kN/m
CM [kNm] Rotational spring constant in kNm/rad
e-P,e-T,e-M [-] Exponents for non-linear damping
DP [kNsec/m] Damping in axial direction
DT [kNsec/m] Damping in lateral direction
DT [kNmsec] Damping moment about the axis
The list of the non-linear effects is only generated, if one of these items is defined:
Special Effects of Spring Elements
Grp Number of the group
Number Spring number
MNo Number of stress-strain curve / material
SOFiSTiK2023 4-7SOFiMSHA|OutputDescription
A/I-ref [m2] Reference area
Prestr. [kN] [kNm] Prestress force in kN and/or kNm
Gap [mm] Spring gap (slip) in mm
Cutoff [kN] [kNm] Spring failure load
Yielding [kN] [kNm] Spring yield load
tan-r [-] Friction coefficient for the lateral spring
cohesion [kN] Cohesion value for the lateral spring
tan-d [-] Dilatation value for the lateral spring
4.10 System Statistics
A list of several beam, plane and volume elements is generated with ECHO SYST YES (de-
fault):
Summary of all beam elements
Groups
Grp Number of the group
TotLength Total length
Max.Length Maximum length
TotWeight Total weight
Summary of all planar elements
Groups
Grp Number of the group
TotArea Total area
TotVolume Total volume
TotWeight Total weight
Material No. Material number
Summary of all volume elements
Groups
Grp Number of the group
TotVolume Total volume
TotWeight Total weight
Material No. Material number
4-8 SOFiSTiK2023OutputDescription|SOFiMSHA
AlistofseveralcrosssectiontypesaccordingtotheinputofBEAM,TRUS,CABLisgenerated
with ECHO SYST FULL (default):
Cross sections
No. Number of cross section
TotLength Total length
Max.Length Maximum length
TotWeight Total weight
Title Title of the cross section
4.11 Analysis Time per Task
A table of the analysis time per task and of the total time is printed with ECHO STAT FULL, if
the button for the statistics is activated in URSULA:
E l a p s e d A n a l y s i s T i m e
Initialise the system.......................: CPU = 8.33 WCT = 8 [sec]
ASCII Input with CADINP and processing......: CPU = 0.44 WCT = 0 [sec]
Saving data from mesh generation............: CPU = 0.03 WCT = 0 [sec]
Postprocessing of the mesh generation.......: CPU = 0.06 WCT = 0 [sec]
Printoutput of generated system.............: CPU = 0.08 WCT = 0 [sec]
Optimum node numbering......................: CPU = 0.08 WCT = 0 [sec]
CPU = 9.66 WCT = 9 [sec]
SOFiSTiK2023 4-9SOFiMSHA|OutputDescription
4-10 SOFiSTiK2023Bibliography |SOFiMSHA
Bibliography
[1] O.C. Zienkiewicz. Methode der finiten Elemente, 2.Auflage. Hanser Verlag München,
1984.
[2] E. Ramm, J. Müller, and K. Wassermann. Problemfälle bei FE-Modellierungen. 1990.
[3] C. Katz and J. Stieda. Praktische FE-Berechnungen mit Plattenbalken. Bauinformatik 1,
1992.
[4] M. Gupta. Error in Eccentric Beam Formulation. Int.Journ.Num.Meth. in Engineering 11,
1977, p. 1473.
[5] O.C. Zienkiewicz and Zhu. A simple error estimate and adaptive procedure for practical
engineering analysis. Int.Journ.Num.Meth. in Engineering 24, 1987, pp. 337–357.
[6] C. Katz. Fehlerabschätzungen. 1. FEM-Tagung, Kaiserslautern, 1989.
[7] F. Hartmann and C. Katz. Statik mit finiten Elementen. Springer Verlag Berlin, 1989.
SOFiSTiK2023 4-11